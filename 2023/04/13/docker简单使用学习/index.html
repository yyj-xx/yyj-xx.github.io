<!DOCTYPE html>

<html lang="zh-CN">

<head>
    
    <title>docker简单使用学习 - Jay的个人博客</title>
    <meta charset="UTF-8">
    <meta name="description" content="记录分享学习">
    <meta name="keywords" content="记录,学习,分享">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    

    <link rel="shortcut icon" href="/assets/logoko.png" type="image/png" />
    <meta name="description" content="docker简介Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux或Windows操作系统的机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。 docker和虚拟机的区别启动时间：docker秒级，虚拟机分钟级轻量级：docker镜像大小以M为单位虚拟机以G为单位，容器占用资源小比虚拟机部署快性">
<meta property="og:type" content="article">
<meta property="og:title" content="docker简单使用学习">
<meta property="og:url" content="https://yyj-xx.github.io/2023/04/13/docker%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Jay的个人博客">
<meta property="og:description" content="docker简介Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux或Windows操作系统的机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。 docker和虚拟机的区别启动时间：docker秒级，虚拟机分钟级轻量级：docker镜像大小以M为单位虚拟机以G为单位，容器占用资源小比虚拟机部署快性">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-04-13T05:29:39.000Z">
<meta property="article:modified_time" content="2023-04-13T07:08:24.065Z">
<meta property="article:author" content="Jay jay">
<meta property="article:tag" content="学习">
<meta name="twitter:card" content="summary">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/highlight.js@9.15.8/styles/atom-one-dark.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css,gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/hexo-theme-nexmoe@latest/source/lib/mdui_043tiny/css/mdui.css,npm/hexo-theme-nexmoe@latest/source/lib/iconfont/iconfont.css?v=233" crossorigin>
    <link rel="stylesheet" href="/css/style.css?v=1681535802645">
    
    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1681535802645">
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="mdui-drawer-body-left">
    
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(/assets/background.gif)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="Jay jay" class="mdui-btn mdui-btn-icon"><img src="/assets/avatar.jpg" alt="Jay jay"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Jay jay">
            <img src="/assets/avatar.jpg" alt="Jay jay" alt="Jay jay">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>25</div>
        <div><span>标签</span>2</div>
        <div><span>分类</span>0</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/archive.html" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
         
            <form id="search_form" action_e="https://www.baidu.com/s?wd=" onsubmit="return search();">
                <label><input id="search_value" name="q" type="search" placeholder="搜索"></label>
            </form>
         
    </div>
</div>
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/436182677" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/yyj-xx/yyj-xx.github.io" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
    
    
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 20px;">学习</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E5%86%99%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">学习写博客</a>
    </div>
    
  </div>

    
    

    
</aside>
    <div class="nexmoe-copyright">
        &copy; 2023 Jay jay
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        <br>人生需要不断的探索
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <div class="nexmoe-post">

  <article>
      
          <div class="nexmoe-post-cover" style="padding-bottom: 66.66666666666666%;"> 
              <img data-src="/assets/background.gif" data-sizes="auto" alt="docker简单使用学习" class="lazyload">
              <h1>docker简单使用学习</h1>
          </div>
      
      
      <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2023年04月13日</a>
    <a><i class="nexmoefont icon-areachart"></i>1.1k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 5 分钟</a>
</div>

      

      <h2 id="docker简介"><a href="#docker简介" class="headerlink" title="docker简介"></a>docker简介</h2><p>Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux或Windows操作系统的机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。</p>
<h2 id="docker和虚拟机的区别"><a href="#docker和虚拟机的区别" class="headerlink" title="docker和虚拟机的区别"></a>docker和虚拟机的区别</h2><p>启动时间：docker秒级，虚拟机分钟级<br>轻量级：docker镜像大小以M为单位虚拟机以G为单位，容器占用资源小比虚拟机部署快<br>性能：docker共享宿主机内核，系统级虚拟化，占用资源少，没有hypervisor层开销，性能基本接近物理机，虚拟机需要hypervisor层支持，虚拟化一些设备，具有完整的os，虚拟化开销大，因而降低性能，没有容器性能好<br>安全性：docker共享宿主机内核只是进程级别的隔离，因此隔离性和稳定性不如虚拟机，docker具有一定权限访问宿主机内核，存在安全隐患<br>使用要求：vm基于硬件的完全虚拟化，需要硬件cpu虚拟化技术支持，docker共享宿主机内核，可运行在主流的linux发行版本，不用考虑cpu是否支持虚拟化技术。</p>
<h2 id="docker原理"><a href="#docker原理" class="headerlink" title="docker原理"></a>docker原理</h2><p>将下载的docker镜像创建并部署到docker容器（是docker的执行单元）中启动即可。</p>
<h2 id="docker安装并部署vulstudy靶场"><a href="#docker安装并部署vulstudy靶场" class="headerlink" title="docker安装并部署vulstudy靶场"></a>docker安装并部署vulstudy靶场</h2><p>在deepin中执行sudo apt-get update和sudo apt-get install docker.io<br>在安装docker-compose</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><code class="hljs shell">sudo wget -c -t 0 https://github.com/docker/compose/releases/download/1.26.0/docker-compose-`uname -s`-`uname -m` -O /usr/local/bin/docker-compose<br></code></pre></td></tr></table></figure>

<p>并赋予可执行权限<br>sudo chmod a+rx /usr/local/bin/docker-compose<br>然后测试是否安装成功。<br>docker-compose -v</p>
<p>配置拉取镜像源<br>修改etc/docker/daemon.json 没有就创建然后添加国内相关源</p>
<p>从vulstudy的github仓库下载镜像然后使用命令部署</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs txt">首先需要启动docker<br>systemctl start docker<br><br>如果没有build就先进入目录build一下<br>docker-compose build<br><br>1.单独运行一个漏洞平台<br>cd到要运行的漏洞平台下运行以下命令<br>cd vulstudy/DVWA<br>docker-compose up -d #启动容器<br>docker-compose stop #停止容器<br><br>2.同时运行所有漏洞平台<br>在项目根目录下运行以下命令<br>cd vulstudy<br>docker-compose up -d #启动容器<br>docker-compose stop #停止容器<br><br>为什么docker-compose build是可选的？<br>docker-compose up -d运行后，会自动查找当前目录下的配置文件。如果配置文件中包含的环境均已经存在，则不会再次编译；如果配置文件中包含的环境不存在，则会自动进行编译。所以，其实docker-compose up -d命令是包含了docker-compose build的。如果更新了配置文件，你可以手工执行docker-compose build来重新编译靶场环境。<br><br>查看启动环境<br>docker-compose ps -a<br><br>在环境目录里输入下面停止运行<br>docker-compose down<br><br>进入docker镜像的命令<br>首先查看id<br>docker ps -a<br>进入镜像<br>docker exec -it id bash<br>源码在app下<br><br>如果有时命令执行失败则需要切换到root命令下执行。<br></code></pre></td></tr></table></figure>

<h2 id="docker的其他基础命令"><a href="#docker的其他基础命令" class="headerlink" title="docker的其他基础命令"></a>docker的其他基础命令</h2><p>搜索镜像<code>docker search 关键字</code><br>下载镜像<code>docker pull 镜像名</code><br>查看已下载的镜像列表<code>docker image ls</code><br>创建并使用容器<code>docker run -it --name 容器名 镜像名/镜像id /bin/bash</code><br>查看当前容器<code>docker ps -a</code><br>查看统计信息<code>docker stats</code><br>启动容器<code>docker start 容器名/容器id</code><br>重启容器<code>docker restart 容器名/容器id</code><br>终止容器或所有容器<code>docker stop  容器名/容器id|$(docker ps -aq)</code><br>连接容器<code>docker exec -it 容器名/容器id /bin/bash</code><br>删除容器或所有容器<code>docker rm 容器名/容器id|$(docker ps -aq)</code><br>删除镜像或所有镜像<code>docker rmi 镜像名/容器id|$(docker images -q)</code><br>端口映射：<br>部署一个容器并将80端口映射到宿主机的8000端口上</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs code"># 可以使用--name自定义部署的容器名<br>docker run -d -p 8000:80 --name 容器名 镜像名<br><br># 也可以直接通过镜像部署<br>docker run -d -p 8000:80 镜像名<br></code></pre></td></tr></table></figure>

<p>构建新的镜像</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs txt">docker commit -a &quot;提交的镜像作者&quot; -m &quot;提交时的说明文字&quot; 容器的ID 要创建的新的镜像<br>docker commit -a &quot;jay&quot; -m &quot;wordpress_phpmyadmin&quot; d64655e87ccc wordpress_phpmyadmin:v1<br></code></pre></td></tr></table></figure>

<p>保存离线镜像</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs txt">docker save -o 镜像文件名.tar 要保持的镜像<br>docker save -o wordpress_phpmyadmin.tar wordpress_phpmyadmin:latest<br></code></pre></td></tr></table></figure>

<p>导入离线镜像</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><code class="hljs txt">docker load --input 镜像文件名.tar<br>docker load --input wordpress_phpmyadmin.tar<br></code></pre></td></tr></table></figure>

  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>本文作者：</strong>Jay jay<br>
        <strong>本文链接：</strong><a href="https://yyj-xx.github.io/2023/04/13/docker%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E5%AD%A6%E4%B9%A0/" title="https:&#x2F;&#x2F;yyj-xx.github.io&#x2F;2023&#x2F;04&#x2F;13&#x2F;docker%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E5%AD%A6%E4%B9%A0&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;yyj-xx.github.io&#x2F;2023&#x2F;04&#x2F;13&#x2F;docker%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E5%AD%A6%E4%B9%A0&#x2F;</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a>
    
</div>

  
      <div class="nexmoe-post-footer">
          <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '906d60a925bbfc786e36',
        clientSecret: 'eef34b48d710958974d793333753521d0474c243',
        id: window.location.pathname,
        repo: 'yyj-xx.github.io',
        owner: 'yyj-xx',
        admin: 'yyj-xx'
    })
    gitalk.render('gitalk')
</script>
</section>
      </div>
  
</div>
            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                        
                          
                          
                              <button class="mdui-fab catalog" style="overflow:unset;">
                                  <i class="nexmoefont icon-i-catalog"></i>
                                  <div class="nexmoe-toc">
                                      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">docker简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E5%92%8C%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.</span> <span class="toc-text">docker和虚拟机的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E5%8E%9F%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">docker原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E5%AE%89%E8%A3%85%E5%B9%B6%E9%83%A8%E7%BD%B2vulstudy%E9%9D%B6%E5%9C%BA"><span class="toc-number">4.</span> <span class="toc-text">docker安装并部署vulstudy靶场</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E7%9A%84%E5%85%B6%E4%BB%96%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="toc-number">5.</span> <span class="toc-text">docker的其他基础命令</span></a></li></ol>
                                  </div>
                              </button>
                          
                          
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

 

<script async src="/js/app.js?v=1681535802647"></script>

<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>


    





</body>

</html>
