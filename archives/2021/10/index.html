<!DOCTYPE html>

<html lang="zh-CN">

<head>
    
    <title>文章归档：2021/10 - Jay的个人博客</title>
    <meta charset="UTF-8">
    <meta name="description" content="记录分享学习">
    <meta name="keywords" content="记录,学习,分享">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    

    <link rel="shortcut icon" href="/assets/logoko.png" type="image/png" />
    <meta name="description" content="记录分享学习">
<meta property="og:type" content="website">
<meta property="og:title" content="Jay的个人博客">
<meta property="og:url" content="https://yyj-xx.github.io/archives/2021/10/index.html">
<meta property="og:site_name" content="Jay的个人博客">
<meta property="og:description" content="记录分享学习">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jay jay">
<meta property="article:tag" content="记录,学习,分享">
<meta name="twitter:card" content="summary">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/highlight.js@9.15.8/styles/atom-one-dark.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css,gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/hexo-theme-nexmoe@latest/source/lib/mdui_043tiny/css/mdui.css,npm/hexo-theme-nexmoe@latest/source/lib/iconfont/iconfont.css?v=233" crossorigin>
    <link rel="stylesheet" href="/css/style.css?v=1678780098388">
    
    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1678780098388">
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="mdui-drawer-body-left">
    
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(/assets/background.gif)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="Jay jay" class="mdui-btn mdui-btn-icon"><img src="/assets/avatar.jpg" alt="Jay jay"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Jay jay">
            <img src="/assets/avatar.jpg" alt="Jay jay" alt="Jay jay">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>14</div>
        <div><span>标签</span>2</div>
        <div><span>分类</span>0</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/archive.html" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
         
            <form id="search_form" action_e="https://www.baidu.com/s?wd=" onsubmit="return search();">
                <label><input id="search_value" name="q" type="search" placeholder="搜索"></label>
            </form>
         
    </div>
</div>
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/436182677" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/yyj-xx/yyj-xx.github.io" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
    
    
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 20px;">学习</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E5%86%99%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">学习写博客</a>
    </div>
    
  </div>

    
    

    
</aside>
    <div class="nexmoe-copyright">
        &copy; 2023 Jay jay
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        <br>人生需要不断的探索
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <section class="nexmoe-posts">
    
    <div class="nexmoe-post">
        <a href="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="/assets/background.gif" data-sizes="auto" alt="python学习使用正则表达式" class="lazyload">
                    <h1>python学习使用正则表达式</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta nexmoe-rainbow">
            <a><i class="nexmoefont icon-calendar-fill"></i>2021年10月25日</a>
            <a><i class="nexmoefont icon-areachart"></i>2.5k 字</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>大概 11 分钟</a>
        </div>

        <article>
            
                <h1 id="正则表达式："><a href="#正则表达式：" class="headerlink" title="正则表达式："></a>正则表达式：</h1><p>又称规则表达式，是处理字符串的有力工具，是对字符串操作的一种逻辑公式。</p>
<p>本质：使用事先定义好的一些特定字符组成的“规则字符串”的一种过滤逻辑</p>
<p>规则字符串：包括普通字符（如：a~z之间的英文字母，数字）和特殊字符（称为“元字符”)</p>
<p>例：</p>
<figure class="highlight r"><table><tr><td class="code"><pre><code class="hljs R"><span class="hljs-string">&quot;0\d&#123;2,3&#125;-\d&#123;7,8&#125;&quot;</span>包括普通数字和匹配数字的元字符<span class="hljs-string">&quot;\d&quot;</span>可以过滤或提取字符串中包含的固定电话号码，如：<span class="hljs-number">000</span>-<span class="hljs-number">00000000</span><br></code></pre></td></tr></table></figure>

<p>与python中提供的字符出处理函数相比，正则表达式提供了更强大的处理功能，可以快速、准确地完成复杂的查找、替换等处理任务，其逻辑性、灵活性、功能性强，而且能极简单的方式实现字符串的复杂控制</p>
<p>正则表达式处理字符过程：</p>
<ol>
<li><p>编写正则表达式</p>
</li>
<li><p>使用正则表达式引擎对正则表达式进行编译，得到正则表达式对象</p>
</li>
<li><p>通过正则表达式对象对字符串进行匹配或过滤，得到匹配的结果</p>
<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/1.jpg"></p>
</li>
</ol>
<p>例：正则表达式提取字符串中的日期</p>
<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/2.jpg"></p>
<h1 id="正则表达式语法："><a href="#正则表达式语法：" class="headerlink" title="正则表达式语法："></a>正则表达式语法：</h1><h2 id="正则表达式组成："><a href="#正则表达式组成：" class="headerlink" title="正则表达式组成："></a>正则表达式组成：</h2><ol>
<li><p>正则表达式的构造方法和数学表达式的构造方法一样，使用多种元字符和运算符组合在一起创建一个表达式，组成表达式的可以是单字符，字符集合，字符范围、字符间的选择或者它们之间的任意组合</p>
<ul>
<li><p>普通字符：</p>
<p>正则表达式中的普通字符：</p>
<ol>
<li>英文字母：26个大小写英文字母共52个</li>
<li>汉字：Unicode字符集中包括的汉字</li>
<li>数字：0~9共十个数字</li>
<li>标点符号：如：”:” “,”等</li>
<li>其他符号：如：”\n（换行符）”\t（制表符）”等非打印字符</li>
</ol>
</li>
<li><p>特殊字符：</p>
<p>有特殊含义的字符，特殊字符一般具有通用性：</p>
<h3 id="字符匹配模式："><a href="#字符匹配模式：" class="headerlink" title="字符匹配模式："></a>字符匹配模式：</h3><table>
<thead>
<tr>
<th align="center">语法</th>
<th align="center">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center">.</td>
<td align="center">匹配除换行符(\n)外的任意单个字符</td>
</tr>
<tr>
<td align="center">\</td>
<td align="center">表示位于\之后的为转义字符</td>
</tr>
<tr>
<td align="center">|</td>
<td align="center">匹配位于|之前或之后的字符</td>
</tr>
<tr>
<td align="center">[]</td>
<td align="center">匹配位于[]中的任意一个字符</td>
</tr>
<tr>
<td align="center">[a-b]或[abc]</td>
<td align="center">匹配指定范围的任何字符</td>
</tr>
<tr>
<td align="center">[^a-c]或[^abc]</td>
<td align="center">匹配指定范围外的任何字符</td>
</tr>
<tr>
<td align="center">()</td>
<td align="center">将()中的内容作为一个整体对待</td>
</tr>
<tr>
<td align="center">\d</td>
<td align="center">匹配一位数字</td>
</tr>
<tr>
<td align="center">\D</td>
<td align="center">与\d刚好相反</td>
</tr>
<tr>
<td align="center">\w</td>
<td align="center">匹配一位数字、字母、下划线</td>
</tr>
<tr>
<td align="center">\s</td>
<td align="center">匹配一位空白字符：&lt;空格&gt;，\t,\n,\r,\f,\v</td>
</tr>
<tr>
<td align="center">\S</td>
<td align="center">与\s相反</td>
</tr>
<tr>
<td align="center">\W</td>
<td align="center">与\w相反</td>
</tr>
</tbody></table>
<h3 id="定位符："><a href="#定位符：" class="headerlink" title="定位符："></a>定位符：</h3><table>
<thead>
<tr>
<th align="center">语法</th>
<th align="center">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center">^</td>
<td align="center">匹配以^后面的字符或模式开头的字符串</td>
</tr>
<tr>
<td align="center">$</td>
<td align="center">匹配以$前面的字符或模式结束的字符串</td>
</tr>
<tr>
<td align="center">\b</td>
<td align="center">匹配单词头或单词尾</td>
</tr>
<tr>
<td align="center">\B</td>
<td align="center">与\b相反</td>
</tr>
</tbody></table>
<h3 id="限定符："><a href="#限定符：" class="headerlink" title="限定符："></a>限定符：</h3><table>
<thead>
<tr>
<th align="center">语法</th>
<th align="center">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center">*</td>
<td align="center">匹配*前一个字符出现0次或多次</td>
</tr>
<tr>
<td align="center">+</td>
<td align="center">匹配+前一个字符出现一次或多次</td>
</tr>
<tr>
<td align="center">？</td>
<td align="center">匹配？前一个字符只能出现一次或0次</td>
</tr>
<tr>
<td align="center">{m}</td>
<td align="center">匹配前一个字符只能出现m次</td>
</tr>
<tr>
<td align="center">{m,}</td>
<td align="center">匹配前一个字符出现至少m次</td>
</tr>
<tr>
<td align="center">{m,n}</td>
<td align="center">匹配前一个字符至少出现m~n次</td>
</tr>
</tbody></table>
<h3 id="扩展语法："><a href="#扩展语法：" class="headerlink" title="扩展语法："></a>扩展语法：</h3></li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th align="center">语法</th>
<th align="center">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center">（?#pattern）</td>
<td align="center">表示注释</td>
</tr>
<tr>
<td align="center">(?:pattern)</td>
<td align="center">匹配但不捕获该匹配的子模式</td>
</tr>
<tr>
<td align="center">(?=pattern)</td>
<td align="center">用于正则表达式之后，如果=后的内容在字符串中出现则匹配，但不返回=之后的内容</td>
</tr>
<tr>
<td align="center">(?!pattern)</td>
<td align="center">用于正则表达式之后，如果!之后的内容在字符串中不出现则匹配，但不返!之后的内容</td>
</tr>
<tr>
<td align="center">(?&lt;=pattern)</td>
<td align="center">用于正则表达式之前，如果&lt;=后的内容在字符串中出现则匹配，但不返回&lt;=之后的内容</td>
</tr>
<tr>
<td align="center">(?&lt;!pattern)</td>
<td align="center">用于正则表达式之前，如果&lt;!后的内容在字符串中不出现则匹配，但不返回&lt;!的内容</td>
</tr>
</tbody></table>
<h3 id="贪婪模式与非贪婪模式："><a href="#贪婪模式与非贪婪模式：" class="headerlink" title="贪婪模式与非贪婪模式："></a>贪婪模式与非贪婪模式：</h3><p>贪婪模式与非贪婪模式影响的是被量词修饰的子表达式的匹配行为</p>
<p>贪婪模式：在整个表达式匹配成功的前提下尽可能多的匹配</p>
<p>非贪婪模式：在整个表达式匹配成功的前提下，尽可能少的匹配</p>
<p>默认贪婪模式，在量词后面直接加上一个”？“就是非贪婪模式</p>
<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/3.jpg"></p>
<p>字符串的贪婪模式与非贪婪模式：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">str</span>=<span class="hljs-string">&quot;&lt;div&gt;监督学习&lt;/div&gt;&lt;div&gt;非监督学西&lt;/div&gt;&lt;div&gt;半监督学习&lt;/div&gt;&quot;</span><br>pat1=re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;&lt;div&gt;.*&lt;/div&gt;&#x27;</span>)<br>res1=pat1.findall(<span class="hljs-built_in">str</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;贪婪匹配：&quot;</span>,res1)<br>pat2=re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;&lt;div&gt;.*?&lt;/div&gt;&#x27;</span>)<br>res2=pat2.findall(<span class="hljs-built_in">str</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;非贪婪匹配：&quot;</span>,res2)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/4.jpg"></p>
<h1 id="使用正则表达式模块处理字符串"><a href="#使用正则表达式模块处理字符串" class="headerlink" title="使用正则表达式模块处理字符串"></a>使用正则表达式模块处理字符串</h1><p>使用标准库Re模块可以使用正则表达式全部功能：</p>
<ol>
<li>直接调用re模块中的函数</li>
<li>将正则表达式编译程成正则表达对象后再调用表达式对象中的函数、</li>
</ol>
<h2 id="re模块中常用的函数："><a href="#re模块中常用的函数：" class="headerlink" title="re模块中常用的函数："></a>re模块中常用的函数：</h2><h3 id="匹配函数："><a href="#匹配函数：" class="headerlink" title="匹配函数："></a>匹配函数：</h3><p>1、res=re.match(pattern, str,flags=0):功能是尝试从字符串的起使位置匹配一个模式，若匹配成功则返回一个匹配对象，否则返回None。pattern为正则表达式，str为匹配字符串，flags是可选标志位，用于控制正则表达式匹配方式，如区分大小写，多行匹配等。</p>
<p>正则表达式常用标志位：</p>
<table>
<thead>
<tr>
<th align="center">修饰符</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">re.I</td>
<td align="center">使匹配对大小写不敏感</td>
</tr>
<tr>
<td align="center">re.L</td>
<td align="center">使本地化识别（locale-aware）匹配</td>
</tr>
<tr>
<td align="center">re.M</td>
<td align="center">多行匹配，影响^和$</td>
</tr>
<tr>
<td align="center">re.S</td>
<td align="center">匹配包括换行在内的所有字符</td>
</tr>
<tr>
<td align="center">re.U</td>
<td align="center">根据Unicode字符集解析字符影响\w,\W,\b,\B</td>
</tr>
<tr>
<td align="center">re.X</td>
<td align="center">^匹配字符串和每行的行首，$匹配字符串和每行行尾</td>
</tr>
</tbody></table>
<p>可以使用匹配对象的函数：</p>
<ol>
<li><p>group(0):返回包含整个表达式的字符串</p>
</li>
<li><p>group(n1,n2,……)：返回一个包含多个组号对应值的元组</p>
</li>
<li><p>groups():返回一个包含所有小组字符串的元组</p>
</li>
<li><p>groupdict():返回一个包含所有经命名匹配小组的字典 </p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用re.match()匹配</span><br><span class="hljs-keyword">import</span> re<br><span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;0086-010-88668866&quot;</span><br>mat = re.match(<span class="hljs-string">r&quot;(?P&lt;nation&gt;\d&#123;4,&#125;)-(?P&lt;zone&gt;\d&#123;3,4&#125;)-(?P&lt;numper&gt;\d&#123;7,8&#125;)&quot;</span>,<span class="hljs-built_in">str</span>,re.M|re.I)<br><span class="hljs-keyword">if</span> mat:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mat.group(0)&quot;</span>,mat.group(<span class="hljs-number">0</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mat.group(1)&quot;</span>, mat.group(<span class="hljs-number">1</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mat.group(2)&quot;</span>, mat.group(<span class="hljs-number">2</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mat.group(3)&quot;</span>, mat.group(<span class="hljs-number">3</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mat.group(1,2,3)&quot;</span>, mat.group(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mat.groups()&quot;</span>, mat.groups())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mat.groupdict()&quot;</span>, mat.groupdict())<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;match匹配不成功！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/6.jpg"></p>
</li>
</ol>
<p>2、res=re.search(pattern,str,flags=0):功能扫描整个字符串并返回第一个成功的匹配对象。用法和re.match()函数相同</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用re.search()查找</span><br><span class="hljs-keyword">import</span> re<br><span class="hljs-built_in">str</span>=<span class="hljs-string">&quot;David的QQ电子邮箱：123456@qq.com&quot;</span><br>sea=re.search(<span class="hljs-string">r&quot;(?P&lt;user&gt;\d+)@(?P&lt;website&gt;\w+)\.(?P&lt;extension&gt;\w+)&quot;</span>,<span class="hljs-built_in">str</span>,re.M|re.I)<br><span class="hljs-keyword">if</span> sea:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sea.group(0):&quot;</span>,sea.group(<span class="hljs-number">0</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sea.group(1,2,3):&quot;</span>, sea.group(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sea.groups():&quot;</span>, sea.groups())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;sea.groupdict():&quot;</span>, sea.groupdict())<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;search匹配不成功！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/7.jpg"></p>
<h3 id="查找函数："><a href="#查找函数：" class="headerlink" title="查找函数："></a>查找函数：</h3><ol>
<li><p>res=re.findall(pattern,str,flags=0):功能使在字符串中找到正则表达式匹配的所有子字符串，并返回一个列表：如果没有找到匹配，则返回空列表。参数和re.match()函数相同</p>
<p><strong>注意：</strong>re.match()函数和re.search()函数就是返回一次匹配的结果，re.findall()返回所有匹配结果</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用re.findall函数</span><br><span class="hljs-keyword">import</span> re<br>res=re.findall(<span class="hljs-string">&#x27;\w+&#x27;</span>,<span class="hljs-string">&#x27;liv well,love lots,and laugh often&#x27;</span>)<span class="hljs-comment">#查找匹配字符串</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;匹配结果：&quot;</span>,res)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/8.jpg"></p>
</li>
<li><p>res=re.finditer(pattern,str,flags):功能是在字符串中找到正则表达式匹配的所有子字符串，并作为一个迭代器返回，参数和之前一样</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#re.finditer函数：</span><br><span class="hljs-keyword">import</span> re<br><span class="hljs-built_in">str</span>=<span class="hljs-string">&quot;of the people,for the people,by the people&quot;</span><br>res=re.finditer(<span class="hljs-string">&quot;\w+ \w+ (people)&quot;</span>,<span class="hljs-built_in">str</span>)<br><span class="hljs-keyword">for</span> match <span class="hljs-keyword">in</span> res:<br>    <span class="hljs-built_in">print</span>(match.group())<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/9.jpg"></p>
</li>
</ol>
<h3 id="替换函数："><a href="#替换函数：" class="headerlink" title="替换函数："></a>替换函数：</h3><ol>
<li>res=re.sub(pattern,repl,str,[,count=0]):功能是将pattern的匹配项用repl替换，返回新字符串，pattern为正则表达式，repl为替换字符串，str为被查字符串，conunt为模式匹配最大次数，默认0为替换所有的匹配</li>
<li>res=re.subn(pattern,repl,str,[,count=-0]):功能将pattern匹配项用repl替换返回包含新字符串和替换次数的二元组，参数和上方一样</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#re.sub函数替换</span><br><span class="hljs-keyword">import</span> re<br>phoneNumber=<span class="hljs-string">&quot;400-669-5566#中国银行信用卡客服专线电话&quot;</span><br>num1=re.sub(<span class="hljs-string">&#x27;#.*$&#x27;</span>,<span class="hljs-string">&quot;&quot;</span>,phoneNumber)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;使用sub（)替换结果：&quot;</span>,num1)<br>num2=re.subn(<span class="hljs-string">&quot;#.*$&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,phoneNumber)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;使用subn（）替换结果：&quot;</span>,num2)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/10.jpg"></p>
<h3 id="分割函数："><a href="#分割函数：" class="headerlink" title="分割函数："></a>分割函数：</h3><p>res=re.split(pattern,str,[,maxsplit=0,flags=0]):功能通过指定分隔符对字符串进行分隔并返回分隔结果列表，pattern为正则表达式，包含指定的分隔符，str为待分隔的字符串，maxsplit为分隔次数，默认为0，不限制次数，flags为可选标志位</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#re.split()分隔函数</span><br><span class="hljs-keyword">import</span> re<br><span class="hljs-built_in">str</span>=<span class="hljs-string">&quot;多少事，从来急;天地转，光阴迫。一万年太久,只争朝夕.毛泽东&quot;</span><br>strlist=re.split(<span class="hljs-string">&#x27;\W+&#x27;</span>,<span class="hljs-built_in">str</span>)<br><span class="hljs-built_in">print</span>(strlist)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/11.jpg"></p>
<h3 id="编译函数："><a href="#编译函数：" class="headerlink" title="编译函数："></a>编译函数：</h3><p>re.compile(pattern,[,flags]):用于编译正则表达式，生成一个正则表达是对象，pattern为正则表达式，flags参考上面正则表达式常用标志位表格。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#re.compile(）编译函数</span><br><span class="hljs-keyword">import</span> re<br>pattern=re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;wr\w+ \w+&#x27;</span>)<span class="hljs-comment">#生成正则表达式对象</span><br><span class="hljs-comment">#匹配字符串</span><br>res=pattern.findall(<span class="hljs-string">&quot;Frankly,in the opinion of Joint Chiefs of Staff,this strategy would involve us in the wrong war,at the wrong place,at the wrong time,and with the wrong enemy.&quot;</span>)<br><span class="hljs-keyword">if</span> res:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;匹配结果：&quot;</span>,res)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;匹配无结果！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/11.jpg"></p>
<h2 id="常用的正则表达式："><a href="#常用的正则表达式：" class="headerlink" title="常用的正则表达式："></a>常用的正则表达式：</h2><img src="/2021/10/25/python%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/5.jpg" style="zoom:200%;">

            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="/assets/background.gif" data-sizes="auto" alt="python学习之异常处理和单元测试" class="lazyload">
                    <h1>python学习之异常处理和单元测试</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta nexmoe-rainbow">
            <a><i class="nexmoefont icon-calendar-fill"></i>2021年10月24日</a>
            <a><i class="nexmoefont icon-areachart"></i>1.5k 字</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>大概 6 分钟</a>
        </div>

        <article>
            
                <h1 id="异常类和异常处理"><a href="#异常类和异常处理" class="headerlink" title="异常类和异常处理"></a>异常类和异常处理</h1><h2 id="异常和异常类："><a href="#异常和异常类：" class="headerlink" title="异常和异常类："></a>异常和异常类：</h2><p>程序编译通过后，并不意味着运行就能获得正确结果，可能由于编程时考虑不周或运行时出现一些特殊情况（除数为零，越界，文件不存在等），结果出现中断程序正常运行，导致程序中断运行的错误称为异常（exception）又称例外。</p>
<p>异常是一个事件，该事件会在程序执行过程中发生，影响程序的正常执行，在python无法处理程序时就会产生异常，发生异常要捕获否则终止执行程序。</p>
<p><strong>常用异常类：</strong></p>
<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/1.jpg"></p>
<h2 id="异常处理："><a href="#异常处理：" class="headerlink" title="异常处理："></a>异常处理：</h2><h3 id="异常处理的格式："><a href="#异常处理的格式：" class="headerlink" title="异常处理的格式："></a>异常处理的格式：</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>	语句块						<span class="hljs-comment">#包含可能发生的异常</span><br><span class="hljs-keyword">except</span> 异常类型 <span class="hljs-number">1</span> [ <span class="hljs-keyword">as</span> 错误描述]:<br>	语句块						<span class="hljs-comment">#异常处理语句块</span><br>	...<br><span class="hljs-keyword">except</span> 异常类型 <span class="hljs-number">2</span> [ <span class="hljs-keyword">as</span> 错误描述]:<br>	语句块						<span class="hljs-comment">#异常处理语句块</span><br><span class="hljs-keyword">except</span>:<br>	语句块						<span class="hljs-comment">#默认异常处理语句块</span><br>[<span class="hljs-keyword">else</span>:<br>	语句块]					<span class="hljs-comment">#没有异常时执行的语句</span><br>[<span class="hljs-keyword">finally</span>:<br>	语句块]					<span class="hljs-comment">#任何情况下都执行的语句块</span><br><br></code></pre></td></tr></table></figure>

<p>try子句：包含可能抛出异常的语句块</p>
<p>except子句：负责处理抛出的异常，处理的尝试顺序与多个except子句的编写顺序一致。当尝试发现第一个异常类型匹配的except子句时就执行其后的语句块。最后一个不指定异常类型的except子句匹配任何类型的异常。</p>
<p>else子句：当try子句中的语句块没有发生异常时执行，可选。</p>
<p>finally子句：无论是否抛出异常只要finally子句存在就会被最终执行。</p>
<p>try-except-else-finally语句的执行情况分为以下两种：</p>
<ol>
<li>try子句中的语句块没有发生异常，在执行完try子句中的语句块后，直接执行else子句块中语句块，最后执行finally子句中的语句块</li>
<li>try子句中的语句块发生异常，发生异常的类型将和except子句的异常类型进行匹配并执行其后的语句块，最后执行finally子句中的语句块。</li>
</ol>
<p>except子句else子句finally子句语句块可以为用户输出异常消息或提示信息，异常信息可以通过异常对象的message成员给出，也可以根据用户需求给出。</p>
<p>列表索引异常：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#try-except语句处理列表索引范围异常：</span><br>list1=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>]<br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-built_in">print</span>(list1[<span class="hljs-number">10</span>])<br><span class="hljs-keyword">except</span> IndexError <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;列表索引超出范围&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/8.jpg"></p>
<p>处理不确定异常：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#try-except处理不确定异常：</span><br>a=<span class="hljs-number">100</span><br><span class="hljs-keyword">try</span>:<br>    b=a+<span class="hljs-string">&quot;python&quot;</span><br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;异常类型：%s&quot;</span>%<span class="hljs-built_in">type</span>(e))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;异常信息：%s&quot;</span>%e)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/9.jpg"></p>
<p>整除处理：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#整除处理：</span><br>x,y=<span class="hljs-built_in">eval</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入两个整数：&quot;</span>))<br><span class="hljs-keyword">try</span>:<br>    z=x/y<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;z=&quot;</span>,z)<br><span class="hljs-keyword">except</span> TypeError <span class="hljs-keyword">as</span> e1:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;数据类型异常：&quot;</span>,e1)<br><span class="hljs-keyword">except</span> ZeroDivisionError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;除数为零异常！&quot;</span>)<br><span class="hljs-keyword">except</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;程序运行异常&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;程序正常执行！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/10.jpg"></p>
<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/11.jpg"></p>
<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/12.jpg"></p>
<p>处理文件访问异常：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#处理文件访问异常：</span><br><span class="hljs-keyword">try</span>:<br>    f=<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./1.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>)<span class="hljs-comment">#报错的化指定编码格式encoding=&#x27;utf=8&#x27;</span><br>    <span class="hljs-built_in">str</span>=f.read()<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;出现异常：%s&quot;</span>%e)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;执行成功！&quot;</span>)<br><span class="hljs-keyword">finally</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;执行完毕！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/13.jpg" alt="未指定编码格式" class="lazyload"></p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/14.jpg" alt="指定了编码格式" class="lazyload"></p>
<h3 id="异常抛出："><a href="#异常抛出：" class="headerlink" title="异常抛出："></a>异常抛出：</h3><p>在except子句、else子句、finally子句的语句块中还可以将异常抛出，提供给调用它的上一级处理。抛出异常有raise语句执行。</p>
<p>格式：raise[Exception [,args [,traceback]]]  Exception为异常类型，args为用户提供的参数，可选。traceback跟踪异常对象，可选。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#抛出异常：</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">greaterZero</span>(<span class="hljs-params">n</span>):</span><br>    <span class="hljs-keyword">if</span> n&lt;<span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&quot;你传入了一个小于0的整数&quot;</span>) <span class="hljs-comment">#抛出异常</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;n=&quot;</span>,n)<br><span class="hljs-keyword">try</span>:<br>    x=<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入一个整数&quot;</span>))<br>    greaterZero(x)<span class="hljs-comment">#调用函数</span><br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    <span class="hljs-built_in">print</span>(e)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/6.jpg"></p>
<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/7.jpg"></p>
<h3 id="断言语句："><a href="#断言语句：" class="headerlink" title="断言语句："></a>断言语句：</h3><p>assert断言语句是一种在程序测试中比较常用的技术，常用于在程序的某个位置判断是否满足某个条件。assert语句格式：</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><code class="hljs tex">assert  expression[,atguments]<br></code></pre></td></tr></table></figure>

<p>其中express是结果为布尔值的表达式。arguments为参数，一般为错误提示信息，可选。assert断言语句的执行过程：如果expression的值为真，则程序忽略expression后面的参数，执行assert语句后面的语句；否则，assert语句触发异常。</p>
<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/5.jpg"></p>
<p>上述表达式为真不抛出异常，表达式为假抛出异常</p>
<p>在程序测试中未发现错误后，将python源程序编译为字节码文件时可以用优化参数-o或-oo将assert语言从程序语句中删除</p>
<h1 id="单元测试："><a href="#单元测试：" class="headerlink" title="单元测试："></a>单元测试：</h1><p>软件测试一般分为白盒测试和黑盒测试，对于业务比较复杂代码量大的软件白盒测试的难度较高，通常以黑盒测试为主，黑盒测试也称功能测试，通过测试来检测每一个功能能否正常使用。黑盒测试着眼于程序外部结构，不考虑内部逻辑结构，主要对软件界面和软件功能进行测试。单元测试是保证软件开发质量的基本方法，用于检验被测代码的一个很小的很明确的功能是否正确。一个单元测试判断某个特定函数的行为在各个情形下都符合要求，单元测试是最低级的测试活动。</p>
<p>python中用于进行单元测试的常用库是Unittest，其中最常用的是testcase类，其常用函数如下：</p>
<p><img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/2.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Unittest模块测试函数功能的正确性</span><br><span class="hljs-keyword">import</span> unittest<br><span class="hljs-comment">#定义测试类：</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestCaseOfArea</span>(<span class="hljs-params">unittest.TestCase</span>):</span><br>    <span class="hljs-comment">#定义测试方法，必须以test开头</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_are</span>(<span class="hljs-params">self</span>):</span><br>        area=getArea(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)<br>        <span class="hljs-comment">#断言方法用来核实得到的结果是否与期望的结果一致</span><br>        self.assertEqual(area,<span class="hljs-number">12</span>,msg=<span class="hljs-string">&quot;测试未通过！&quot;</span>)<br><span class="hljs-comment">#定义求矩形面积函数：</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getArea</span>(<span class="hljs-params">x,y</span>):</span><br>    <span class="hljs-keyword">return</span> x*y<br><span class="hljs-comment">#执行测试</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure>

<img src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/3.jpg" style="zoom: 80%;">

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/24/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%92%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/4.jpg" alt="当计算结果和预测结果不同时" class="lazyload"></p>

            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="/assets/background.gif" data-sizes="auto" alt="python学习之文件访问" class="lazyload">
                    <h1>python学习之文件访问</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta nexmoe-rainbow">
            <a><i class="nexmoefont icon-calendar-fill"></i>2021年10月20日</a>
            <a><i class="nexmoefont icon-areachart"></i>2.8k 字</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>大概 12 分钟</a>
        </div>

        <article>
            
                <h1 id="文件访问"><a href="#文件访问" class="headerlink" title="文件访问"></a>文件访问</h1><h2 id="文件的分类："><a href="#文件的分类：" class="headerlink" title="文件的分类："></a>文件的分类：</h2><ol>
<li>按文件内容分：<ul>
<li>程序文件:存储的是程序，包括源文件和可执行文件如：.py、.cpp、.exe等文件</li>
<li>数据文件:存储的是程序运行时所需的各种数据如：.txt、.docx、.xlsx等文件</li>
</ul>
</li>
<li>按信息存储形式分类：<ul>
<li>文本文件:基于字符编码的文件，常见编码方式:asscll、Unicode编码可以使用文本编辑软件进行修改，常见为:.txt、.html文件</li>
<li>二进制文件:存放各种数据的二进制编码，含有特殊的格式及计算机代码，必须用专用程序打开。常见的二进制编码文件有：数据库文件、图像文件、可执行文件、音频文件</li>
</ul>
</li>
</ol>
<h2 id="文本的访问："><a href="#文本的访问：" class="headerlink" title="文本的访问："></a>文本的访问：</h2><p><strong>访问步骤：</strong></p>
<ol>
<li>用open()函数打开一个文件，返回一个文件对象</li>
<li>调用文件对象中的函数对文件内容进行读或写等操作</li>
<li>调用文件对象的close()函数关闭文件</li>
</ol>
<h3 id="打开文件："><a href="#打开文件：" class="headerlink" title="打开文件："></a>打开文件：</h3><ol>
<li><p>open（）函数：python内置函数用于打开一个文件，返回一个文件对象，格式：open(filename[，mode])，filename为要打开文件的名称和路径，mode为文件访问的模式，如只读、写入、追加等，默认为只读(r).</p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/1.jpg" alt="文件访问模式" class="lazyload"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">file=<span class="hljs-built_in">open</span>(<span class="hljs-string">r&quot;2.py&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;文件名：&quot;</span>,file.name)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;访问模式：&quot;</span>,file.mode)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;是否已关闭：&quot;</span>,file.closed)<br>file.closed<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/2.jpg"></p>
</li>
<li><p>with-as语句进行文本访问：在用open（）函数对文件打开或者进行读写扽操作的过程中都有可能发生错误，即使写了关闭文件的语句也不一定能正常执行，从而导致不能正常关闭文件，缓存信息可能会意外丢失，文件可能损坏，所以推荐使用with-as语句减少这种情况，它适用于对资源进行访问的场合，可确保不管在使用过程中是否发生异常都会执行清理操作，释放资源，文件使用后自动关闭</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用with-as访问文本文件</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./1.txt&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>) <span class="hljs-keyword">as</span> file:  <span class="hljs-comment">#注意要给权限</span><br>    num=file.write(<span class="hljs-string">&quot;Go its own way,let others say!&quot;</span>) <span class="hljs-comment">#向文件写入字符串</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写入字符%d个！&quot;</span>%num)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/3.jpg"></p>
</li>
</ol>
<h3 id="文件操作："><a href="#文件操作：" class="headerlink" title="文件操作："></a>文件操作：</h3><ol>
<li><p>写文件：</p>
<ul>
<li><p>file.write(str字符串)和file.writelines(seuence字符序列)向文件中写内容</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#文件操作</span><br><span class="hljs-comment">#写文件：</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./1.txt&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>    num=file.write(<span class="hljs-string">&quot;天空再怎么黑暗\n我的内心依旧光明&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写了%d个字符&quot;</span>%num)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/4.jpg"></p>
<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/5.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#向文件中追加内容:</span><br><span class="hljs-built_in">str</span>=<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入内容：&quot;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./1.txt&quot;</span>,<span class="hljs-string">&quot;a&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<span class="hljs-comment">#参数a是以追加方式打开</span><br>    file.write(<span class="hljs-string">&quot;\n&quot;</span>)<br>    num=file.write(<span class="hljs-built_in">str</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写了%d个字符&quot;</span> % num)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/6.jpg"></p>
<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/7.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#向文件中写入元组：</span><br>mingtuple=(<span class="hljs-string">&quot;王阳明&quot;</span>,<span class="hljs-string">&quot;郑和&quot;</span>,<span class="hljs-string">&quot;戚继光&quot;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./ming.txt&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>    num=file.write(<span class="hljs-built_in">str</span>(mingtuple))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;将元组写入文件&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/8.jpg"></p>
<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/9.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用file.writelines(sequence)向文件中写入字符序列：</span><br><span class="hljs-built_in">str</span>=[<span class="hljs-string">&quot;好雨知时节，当春乃发生.\n&quot;</span>,<span class="hljs-string">&quot;随风潜入夜，润物细无声&quot;</span>]<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;杜甫.txt&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>    file.writelines(<span class="hljs-built_in">str</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写入字符序列成功！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/10.jpg"></p>
<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/11.jpg"></p>
</li>
</ul>
</li>
<li><p>读文件：三个函数file.read(),file.readline(),file.readlines()</p>
<ul>
<li><p>file.read([size]):读取一个文件的内容，返回一个字符串对象size是要读取内容的数目是可选参数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#文件读取：</span><br><span class="hljs-comment">#file.read()和for循环读取文件内容:</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./杜甫.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>    <span class="hljs-built_in">str</span>=file.read()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">str</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;分割线&quot;</span>,<span class="hljs-string">&#x27;-&#x27;</span>*<span class="hljs-number">20</span>)<br><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;1.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> file:<br>        <span class="hljs-built_in">print</span>(i,end=<span class="hljs-string">&#x27; &#x27;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/12.jpg"></p>
<ul>
<li><p>file.readline([size])函数从文件中读取一行返回一个字符串对象size为内容的数目可选</p>
<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/13.jpg"></p>
</li>
<li><p>file.readlines([sizeint]):功能是读取并返回该文件中包含的所有行，以字符串列表形式返回sizeint为读取的字节数，可选参数</p>
<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/14.jpg"></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>其他文件操作：</p>
<ul>
<li>file.close():关闭文件。关闭文件后不能进行读写操作。</li>
<li>file.flash():刷新文件内部缓冲，直接把内部缓冲区的数据立刻写入文件，而不是被动地等待输出缓冲区写入</li>
<li>file.fileno():返回一个整型的文件描述符</li>
<li>file.isatty():如果文件连接到一个终端设备则返回true，否则返回false</li>
<li>file.tell():返回文件当前位置</li>
<li>file.seek():重定位文件对象的指针位置</li>
<li>file.truncate([size]):从文件的首行首字符开始截断，截断文件为size个字符，无size表示从当前位置截断：截断之后后面的所有字符被删除</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用file.tell()和file.seek()重定位</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./1.txt&quot;</span>,<span class="hljs-string">&quot;r&quot;</span>,encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>    data=file.readline()<br>    <span class="hljs-built_in">print</span>(data.strip())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;输出一行后的文件指针在：&#x27;</span>,file.tell())<span class="hljs-comment">#查看指针位置</span><br>    file.seek(<span class="hljs-number">0</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;用seek()将文件指针放回开始处：&#x27;</span>,file.tell())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;再次输出：&#x27;</span>,file.readlines())<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/15.jpg"></p>
</li>
</ol>
<h3 id="二进制文件访问："><a href="#二进制文件访问：" class="headerlink" title="二进制文件访问："></a>二进制文件访问：</h3><p>对二进制文件不能直接用记事本等文本编辑软件直接进行读写，也无法通过python的文件对象直接读取和理解二进制文件中的内容，要想正确读写二进制文件必须理解二进制文件的结构，序列化，反序列化。</p>
<ul>
<li>序列化：指的是把内存中的数据对象在不丢失其类型的情况下转换成对应的二进制信息</li>
<li>反序列化：将二进制信息准确无误地恢复到原来的数据对象的过程</li>
</ul>
<p>二进制文件访问的三步：</p>
<ol>
<li>打开二进制文件</li>
<li>访问二进制文件，写操作是将要写入的内容序列化后写入文件的过程，操作是将二进制文件内容读出反序列化的过程</li>
<li>关闭二进制文件</li>
</ol>
<h3 id="使用pickle模块读写二进制文件："><a href="#使用pickle模块读写二进制文件：" class="headerlink" title="使用pickle模块读写二进制文件："></a>使用pickle模块读写二进制文件：</h3><p>pickle模块只能在python中使用，几乎python中所有的数据类型都可以用pickle模块实现序列化。</p>
<p>pickle模块有两个函数：pickle.dump()序列化数据对象，并将该对象写入二进制文件：格式“pickle.dump(data，file[,protocoll])”data为写入二进制文件的数据对象，file创建或打开的文件对象，protocol为序列化的模式。</p>
<p>pickle.load(file):反序列化函数，将二进制文件中的内容解析为一个数据对象，file为打开二进制文件对象</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用pickle模块读写二进制文件：</span><br><span class="hljs-keyword">import</span> pickle<br>list1=[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">8</span>]<br>tuple1=(<span class="hljs-string">&quot;music&quot;</span>,<span class="hljs-string">&quot;game&quot;</span>,<span class="hljs-string">&quot;sports&quot;</span>)<br>data = [list1,tuple1]<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./二进制文件读写.txt&quot;</span>,<span class="hljs-string">&quot;wb&quot;</span>)<span class="hljs-keyword">as</span> pickle_file:<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> data:<br>        pickle.dump(i,pickle_file)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写入数据成功！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/16.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#读：</span><br><span class="hljs-keyword">import</span> pickle<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./二进制文件读写.txt&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> picklef:<br>    data1=pickle.load(picklef)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;data1:&quot;</span>,data1)<br>    data2=pickle.load(picklef)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;data2:&quot;</span>,data2)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/17.jpg"></p>
<h3 id="使用struct模块读写二进制文件："><a href="#使用struct模块读写二进制文件：" class="headerlink" title="使用struct模块读写二进制文件："></a>使用struct模块读写二进制文件：</h3><p>方法：</p>
<ol>
<li>向二进制文件中写数据，先使用pack（）函数对数据对象按指定的格式进行序列化，然后使用文件对象write()函数将序列化的结果写入二进制文件</li>
<li>从二进制文件中读数据，先使用文件对象的read()函数读取二进制文件中的内容然后使用struct模块的unpack()函数完成反序列化后得到原来的数据对象</li>
</ol>
<p>函数格式：</p>
<p>struct.pack(fmt,data1,data2…):fmt给定格式化字符串，data1、data2为要写入的数据对象</p>
<p>struct.unpack(fmt,string):fmt为给定格式化字符串，string为反序列化的字符串</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#读</span><br><span class="hljs-keyword">import</span> struct<br>a=<span class="hljs-string">&quot;hello&quot;</span><br>b=<span class="hljs-number">32</span><br>c=<span class="hljs-number">89.6</span><br>binary1=struct.pack(<span class="hljs-string">&#x27;5sif&#x27;</span>,a.encode(<span class="hljs-string">&quot;utf-8&quot;</span>),b,c)<span class="hljs-comment">#5字符串长度s类型if也是类型</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./struct二进制文件读写.txt&quot;</span>,<span class="hljs-string">&quot;wb&quot;</span>) <span class="hljs-keyword">as</span> struct_file:<br>    struct_file.write(binary1)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写入数据成功！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/18.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#写：</span><br><span class="hljs-keyword">import</span>  struct<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./struct二进制文件读写.txt&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> file:<br>    binary1=file.read()<br>    a,b,c=struct.unpack(<span class="hljs-string">&quot;5sif&quot;</span>,binary1)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s   %d   %f&quot;</span>%(a,b,c))<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/19.jpg"></p>
<h3 id="使用marshal模块读写二进制文件："><a href="#使用marshal模块读写二进制文件：" class="headerlink" title="使用marshal模块读写二进制文件："></a>使用marshal模块读写二进制文件：</h3><p>marshal.dump(data,file):将数据对象序列化后写入二进制文件中，data待序列化数据对象，file为创建或打开文件对象</p>
<p>marshal.load(file)：将二进制文件中的内容反序列化为数据对象</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用marshal模块读写二进制文件</span><br><span class="hljs-comment">#写</span><br><span class="hljs-keyword">import</span> marshal<br>data1=[<span class="hljs-string">&#x27;def&#x27;</span>,<span class="hljs-number">34</span>,<span class="hljs-number">89</span>]<br>data2=&#123;<span class="hljs-number">1</span>:<span class="hljs-string">&quot;优秀&quot;</span>,<span class="hljs-number">2</span>:<span class="hljs-string">&quot;良好&quot;</span>,<span class="hljs-number">3</span>:<span class="hljs-string">&quot;合格&quot;</span>,<span class="hljs-number">4</span>:<span class="hljs-string">&quot;不合格&quot;</span>&#125;<br>data3=(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./marshal二进制文件读写.txt&quot;</span>,<span class="hljs-string">&quot;wb&quot;</span>)<span class="hljs-keyword">as</span> file:<br>    marshal.dump(data1,file)<br>    marshal.dump(data2,file)<br>    marshal.dump(data3,file)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写入数据成功！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/20.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#读：</span><br><span class="hljs-keyword">import</span> marshal<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./marshal二进制文件读写.txt&quot;</span>,<span class="hljs-string">&quot;rb&quot;</span>)<span class="hljs-keyword">as</span> file:<br>    data1=marshal.load(file)<br>    data2 = marshal.load(file)<br>    data3 = marshal.load(file)<br>    <span class="hljs-built_in">print</span>(data1)<br>    <span class="hljs-built_in">print</span>(data2)<br>    <span class="hljs-built_in">print</span>(data3)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/21.jpg"></p>
<h3 id="使用shelve模块读写二进制文件："><a href="#使用shelve模块读写二进制文件：" class="headerlink" title="使用shelve模块读写二进制文件："></a>使用shelve模块读写二进制文件：</h3><p>shelve模块提供一种类似字典方式操作二进制文件的功能，如向二进制文件中写入、读出、修改数据。提供一个简单的数据存储方案，只有一个open()函数，它接收一个文件名作为参数，返回一个shelf对象.</p>
<p>shelve.open(filename,mode,protocol=None,writeback=False)</p>
<p>filename:打开或创建二进制文件</p>
<p>model:文件打开模式：</p>
<ol>
<li>‘c’:如果文件不存在则创建允许读写</li>
<li>‘r’:只读</li>
<li>‘w’:可读可写</li>
<li>‘n’:每次调用open()函数都重新创建一个空文件，可读可写。</li>
</ol>
<p>protocol:序列化模式，可以是1或2，默认None</p>
<p>writeback:是否将所有从二进制文件中读取的对象存放到一个内存缓存，默认False</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用shelve模块读写二进制文件</span><br><span class="hljs-comment">#写：</span><br><span class="hljs-keyword">import</span> shelve<br>tg=<span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>([<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;age&#x27;</span>],[<span class="hljs-string">&#x27;dong&#x27;</span>,<span class="hljs-number">31</span>]))<span class="hljs-comment">#zip()是Python的一个内建函数，它接受一系列可迭代的对象作为参数，将对象中对应的元素打包成一个个tuple（元组），然后返回由这些tuples组成的list（列表）</span><br>tj=<span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>([<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;age&#x27;</span>],[<span class="hljs-string">&#x27;li&#x27;</span>,<span class="hljs-number">42</span>]))<br><span class="hljs-keyword">with</span> shelve.<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;shelve_file&#x27;</span>)<span class="hljs-keyword">as</span> shelve_file:<br>    shelve_file[<span class="hljs-string">&#x27;tg&#x27;</span>]=tg<br>    shelve_file[<span class="hljs-string">&#x27;tj&#x27;</span>]=tj<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;写入数据成功！&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/22.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#读：</span><br><span class="hljs-keyword">import</span>  shelve<br><span class="hljs-keyword">with</span> shelve.<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;shelve_file&#x27;</span>)<span class="hljs-keyword">as</span> shelve_file:<br>    <span class="hljs-built_in">print</span>(shelve_file[<span class="hljs-string">&#x27;tg&#x27;</span>])<br>    <span class="hljs-built_in">print</span>(shelve_file[<span class="hljs-string">&#x27;tj&#x27;</span>])<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/23.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#修改：</span><br><span class="hljs-keyword">import</span>  shelve<br><span class="hljs-keyword">with</span> shelve.<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;shelve_file&#x27;</span>)<span class="hljs-keyword">as</span> file:<br>    tg=file[<span class="hljs-string">&#x27;tg&#x27;</span>]<br>    tg[<span class="hljs-string">&#x27;name&#x27;</span>]=<span class="hljs-string">&#x27;kei&#x27;</span><br>    file[<span class="hljs-string">&#x27;tg&#x27;</span>]=tg<br>    <span class="hljs-built_in">print</span>(file[<span class="hljs-string">&#x27;tg&#x27;</span>])<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/20/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE/24.jpg"></p>
<h3 id="csv文件操作："><a href="#csv文件操作：" class="headerlink" title="csv文件操作："></a>csv文件操作：</h3><p>csv(comma separated values,逗号分隔值)文件是一种常用的文本格式文件，用于存储表格数据，包括数字，字符等。python内置了csv模块处理csv文件常用函数如下：</p>
<ol>
<li>csv.writer(csvfile):返回一个witer对象。csvfile为打开的csv文件对象</li>
<li>writer.writerow(row):写入一行到csv文件</li>
<li>writer.writerows(rows):写入多行到csv文件</li>
<li>csv.reader(csvfile):返回一个reader对象来读文件</li>
</ol>
<h1 id="本文结束"><a href="#本文结束" class="headerlink" title="本文结束"></a>本文结束</h1>
            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="/assets/background.gif" data-sizes="auto" alt="python学习之模块、包、库的使用" class="lazyload">
                    <h1>python学习之模块、包、库的使用</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta nexmoe-rainbow">
            <a><i class="nexmoefont icon-calendar-fill"></i>2021年10月17日</a>
            <a><i class="nexmoefont icon-areachart"></i>3.6k 字</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>大概 16 分钟</a>
        </div>

        <article>
            
                <h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><p>在python中一个模块（module）是一个以.py结尾的python文件，包含了python对象和语句。</p>
<p>模块的好处：</p>
<ol>
<li>方便组织代码</li>
<li>提高代码的重用性</li>
<li>增加代码的重用性</li>
<li>避免函数名和变量名冲突</li>
</ol>
<p>模块的导入方式：</p>
<ul>
<li><p>模块就是.py类型的Python文件</p>
</li>
<li><p>导入时不需要.py后缀，直接导入文件名即可</p>
<p>1、**利用<code>import</code>**直接导入：</p>
</li>
<li><p>语法：**<code>import</code>** module_name</p>
</li>
<li><p>使用方式：module_name.class_name或者module.func_name</p>
<p>2、利用**<code>import</code>**导入模块并设置一个别名</p>
</li>
<li><p>语法：**<code>import</code>** module_name <strong><code>as</code></strong> XXX</p>
</li>
<li><p>使用方式：XXX.class_name或者XXX.funct_name</p>
<p>3、借助**<code>from</code>**复制模块的属性，可以实现只导入模块中的部分类或函数或变量</p>
</li>
<li><p>语法：**<code>from</code>** module_name <strong><code>import</code></strong> class_name， funct_name</p>
</li>
<li><p>使用方式：直接调用函数或实例化类即可</p>
</li>
<li><p>但要注意，from把变量从模块中导入后，会导致<strong>相同名称的变量被覆盖</strong>，也就是说不同模块的命名空间会在此处重叠。</p>
<p>4、借助**<code>from...import</code> ***导入模块全部内容</p>
</li>
<li><p>语法：**<code>from</code>** module_name <strong><code>import</code> *</strong></p>
</li>
<li><p>使用时直接调用函数或实例化类即可</p>
<p>5、借助importlib模块实现导入以数字开头的模块</p>
</li>
<li><p>语法：**<code>import importlib</code>**</p>
</li>
<li><p>XXX = <strong><code>importlib.import_module</code></strong>(“module_name”)</p>
</li>
<li><p>使用时XXX.class_name或者XXX.func_name</p>
</li>
</ul>
<h2 id="自带模块："><a href="#自带模块：" class="headerlink" title="自带模块："></a>自带模块：</h2><h3 id="Turtle模块："><a href="#Turtle模块：" class="headerlink" title="Turtle模块："></a>Turtle模块：</h3><p>Turtle是python内嵌的绘制线、圆及其他形状（包括文本）的图形模块，它可以创建一个画笔，在一个横轴为x纵轴为y的坐标系原点位置开始，根据一组函数指令控制，在这个平面绘制图形</p>
<p>画布（Canvas）:是Turple模块展开用于绘制图形的区域，默认一个坐标原点为画布中心的坐标轴，可以使用turtle.screensize(width,height,bg(bg代表背景颜色))和turtle.setup设置它的大小和初始位置</p>
<p>turtle.setup(width,height,startx,starty)其中startx，starty是画布左上角顶点在窗口的坐标位置</p>
<p>画笔:</p>
<p>画笔状态：使用位置方向描述画笔状态</p>
<p>画笔属性：包括画笔颜色、宽度移动速度，</p>
<p>​                turtle.pencolor(color)、turtle.pensize(width)、 tu                                                                                                           rtle.speed(speed)</p>
<p>绘图命令：</p>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/4.jpg"></p>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/5.jpg"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Turtle模块：</span><br><span class="hljs-keyword">import</span> turtle<br><span class="hljs-comment">#绘制一个圆和一个填充正方形</span><br>turtle.penup()<br>turtle.goto(-<span class="hljs-number">150</span>,<span class="hljs-number">0</span>)<br>turtle.pendown()<br>turtle.pencolor(<span class="hljs-string">&#x27;blue&#x27;</span>)<br>turtle.begin_fill()<br>turtle.fillcolor(<span class="hljs-string">&#x27;blue&#x27;</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>    turtle.forward(<span class="hljs-number">100</span>)<br>    turtle.left(<span class="hljs-number">90</span>)<br>turtle.end_fill()<br><span class="hljs-comment">#画圆</span><br>turtle.penup()<br>turtle.goto(<span class="hljs-number">100</span>,<span class="hljs-number">0</span>)<br>turtle.pendown()<br>turtle.color(<span class="hljs-string">&#x27;red&#x27;</span>)<br>turtle.pensize(<span class="hljs-number">3</span>)<br>turtle.circle(<span class="hljs-number">50</span>)<br>turtle.done()<br><br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/6.jpg"></p>
<p>用turtle在画布上写字：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#在画布上写文字</span><br>t=turtle.Turtle()<br>t.penup()<br>t.goto(-<span class="hljs-number">80</span>,<span class="hljs-number">20</span>)<br>t.write(<span class="hljs-string">&quot;望庐山瀑布&quot;</span>,font=(<span class="hljs-string">&quot;黑体&quot;</span>,<span class="hljs-number">14</span>,<span class="hljs-string">&quot;normal&quot;</span>))<br>t.sety(-<span class="hljs-number">10</span>) <span class="hljs-comment">#画笔向下移</span><br>t.write(<span class="hljs-string">&quot;你很牛&quot;</span>,font=(<span class="hljs-string">&quot;宋体&quot;</span>,<span class="hljs-number">16</span>,<span class="hljs-string">&quot;normal&quot;</span>))<br>t.hideturtle()<br>turtle.done()<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/7.jpg"></p>
<h3 id="Random模块："><a href="#Random模块：" class="headerlink" title="Random模块："></a>Random模块：</h3><p>random模块用于生成随机数：</p>
<ol>
<li><p>random.random()函数用于生成[0，1）之间的随机浮点数。</p>
</li>
<li><p>random.uniform(start，end)函数用于生成一个指定范围内的随机浮点数</p>
</li>
<li><p>random.randint(start，end)函数用于生成一个指定范围内的整数</p>
</li>
<li><p>random.randrange(start，end，step)函数用于生成指定范围指定步长的随机整数</p>
</li>
<li><p>random.choice(序列对象)函数的功能是从序列对象中获取一个随机元素</p>
</li>
<li><p>random.shuffle(序列对象[,random])函数用于将一个序列对象中的元素打乱</p>
</li>
<li><p>random.sample(序列对象，k)从指定序列对象中随机获取指定长度（k）的片的</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#random模块</span><br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>):<br>   <span class="hljs-built_in">print</span>(random.random())<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span>*<span class="hljs-number">10</span>)<br>random.uniform(<span class="hljs-number">2</span>,<span class="hljs-number">6</span>)<br>random.uniform(<span class="hljs-number">8</span>,<span class="hljs-number">6</span>)<br>random.uniform(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span>*<span class="hljs-number">10</span>)<br><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>):<br>    <span class="hljs-built_in">print</span>(random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>))<br><span class="hljs-built_in">print</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span>*<span class="hljs-number">10</span>)<br>list1=[]<br><span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>):<br>    list1.append(random.randrange(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>,<span class="hljs-number">2</span>))<br><span class="hljs-built_in">print</span>(list1)<br><span class="hljs-built_in">print</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span>*<span class="hljs-number">10</span>)<br><span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>):<br>    <span class="hljs-built_in">print</span>(random.choice(list1))<br><span class="hljs-built_in">print</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span>*<span class="hljs-number">10</span>)<br><span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>):<br>    <span class="hljs-built_in">print</span>(random.shuffle(list1))<br><span class="hljs-built_in">print</span>()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span> * <span class="hljs-number">10</span>)<br>list2=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]<br>slice1=random.sample(list2,<span class="hljs-number">4</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;slice1:&quot;</span>,slice1)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/8.jpg"></p>
</li>
</ol>
<h3 id="Time和Datetime模块："><a href="#Time和Datetime模块：" class="headerlink" title="Time和Datetime模块："></a>Time和Datetime模块：</h3><p>time模块主要用于时间访问和转换提供了各种相关函数：</p>
<ol>
<li>time.time():返回时间戳（自1970-1-1 0：00：00至今所经历的浮点秒数）</li>
<li>time.asctime([t]):将一个tuple或struct_time形式的时间转换为一个表示当前本地时间的字符串</li>
<li>time.ctime([secs]):将一个秒数时间戳表示的时间转换为一个表示当地时间的字符串</li>
<li>time.localtime([secs]):返回以指定时间戳对应的本地时间struct——time对象</li>
<li>time.strftime(s,t):将struct_time对象转换成字符串</li>
<li>time.altzone：返回与utc时间的时间差以秒为单位</li>
</ol>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/9.jpg"></p>
<p>datetime模块为日期和事件处理同时提供了简单复杂的方法，其中有</p>
<p>日期类（date类）：d=datetime.date(year,mouth,day)</p>
<p>时间类（time类）:t=time(hour,[minute,[second,[,tzinfo]]])</p>
<p>日期时间类(datetime类):dt=datetime(year,month,day,hout,minute,second,microsecond,tzinfo)</p>
<p>时间差类（timedelta类):td=datetime.timedelta(days,seconds,microseconds,milliseconds,hours,weeks)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#datetime类的使用：</span><br><span class="hljs-comment">#date类：</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> date<br>d=date.today()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;当前日期：&quot;</span>,d)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;日期：&#123;&#125;年&#123;&#125;月&#123;&#125;日&quot;</span>.<span class="hljs-built_in">format</span>(d.year,d.month,d.day))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;今天是周&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(d.isoweekday()))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span> * <span class="hljs-number">10</span>)<br><span class="hljs-comment">#time类：</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> time<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;时间最大值：&quot;</span>,time.<span class="hljs-built_in">max</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;时间最小值：&quot;</span>,time.<span class="hljs-built_in">min</span>)<br>t=time(<span class="hljs-number">20</span>,<span class="hljs-number">30</span>,<span class="hljs-number">50</span>,<span class="hljs-number">8888</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;时间：&#123;&#125;时&#123;&#125;分&#123;&#125;秒&#123;&#125;微妙&quot;</span>.<span class="hljs-built_in">format</span>(t.hour,t.minute,t.second,t.microsecond))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span> * <span class="hljs-number">10</span>)<br><span class="hljs-comment">#datetime类</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<br>dt=datetime.now()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;当前日期：&quot;</span>,dt.date())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;当前时间：&#123;&#125;  当前年份：&#123;&#125;年  当前月份：&#123;&#125;月   当前日期：&#123;&#125;日&quot;</span>.<span class="hljs-built_in">format</span>(dt.time(),dt.year,dt.month,dt.day))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;时间：&quot;</span>,datetime(<span class="hljs-number">2018</span>,<span class="hljs-number">9</span>,<span class="hljs-number">16</span>,<span class="hljs-number">12</span>,<span class="hljs-number">20</span>,<span class="hljs-number">36</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;*&quot;</span> * <span class="hljs-number">10</span>)<br><span class="hljs-comment">#timedelta类</span><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime,timedelta<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;1周包含的秒数：&quot;</span>,timedelta(days=<span class="hljs-number">7</span>).total_seconds())<br>d=datetime.now()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;当前本地系统时间:&quot;</span>,d)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;一天后：&quot;</span>,d+timedelta(days=<span class="hljs-number">1</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;一天前：&quot;</span>,d+timedelta(days=-<span class="hljs-number">1</span>))<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/10.jpg"></p>
<h3 id="OS模块："><a href="#OS模块：" class="headerlink" title="OS模块："></a>OS模块：</h3><p>​    os模块是一个用于访问操作系统功能的模块，通过os模块中提供的接口可以实现以下功能：</p>
<ol>
<li><p>获取平台信息</p>
<ul>
<li>os.getcwd():获取当前工作目录</li>
<li>os.sep:查看操作系统特定的路径分隔符</li>
<li>os.linesep:查看当前平台使用的行终结符</li>
<li>os.pathsep:查看用于分隔文件路径的字符串</li>
<li>os.name:查看当前系统平台</li>
<li>os.environ:查看当前系统的环境变量</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;分隔符：&quot;</span>,os.sep)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;操作系统平台：&quot;</span>,os.name)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;环境变量path：&quot;</span>,os.getenv(<span class="hljs-string">&#x27;path&#x27;</span>))<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/11.jpg"></p>
</li>
<li><p>目录文件操作：</p>
<ul>
<li><p>os.mkdir(newdir):创建新目录</p>
</li>
<li><p>os.rmdir(dir):删除目录</p>
</li>
<li><p>os.listdir(path):列出指定目录path下所有文件</p>
</li>
<li><p>os.chdir(path)：改变当前脚本的工作目录为指定路径path</p>
</li>
<li><p>os.remove(file)：删除一个指定文件file</p>
</li>
<li><p>os.rename(oldname,newname):重命名一个文件</p>
<p>os模块获取文件属性：</p>
</li>
<li><p>os.path.abspath(path):返回绝对路径</p>
</li>
<li><p>os.path.split(path):将path分割成包含目录和文件名的元组返回</p>
</li>
<li><p>os.path.exists(path):如果path存在则返回true否则返回false</p>
</li>
<li><p>os.path.isfile(file):如果file是一个存在的文件则返回true否则返回false</p>
</li>
<li><p>os.path.isdir(dir)：如果dir是一个存在的目录则返回true否则返回false、</p>
</li>
<li><p>os.path.getsize(file);返回指定文件大小</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#os文件操作：</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;当前工作路径：&quot;</span>,os.getcwd())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;当前路径的目录和文件列表：&quot;</span>,os.listdir())<br>os.rename(<span class="hljs-string">&quot;1.py&quot;</span>,<span class="hljs-string">&quot;11.py&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;重命名文件夹后当前路径的目录和文件列表&quot;</span>,os.listdir())<br>os.mkdir(<span class="hljs-string">&quot;newDir&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;创建文件目录后当前目录和文件列表：&quot;</span>,os.listdir())<br>os.chdir(<span class="hljs-string">&quot;newDir&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;改变当前工作路径后，当前工作路径：&quot;</span>,os.getcwd())<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;(路径，文件)&quot;</span>,os.path.split(<span class="hljs-string">r&quot;d:\OS模块\1.py&quot;</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;目录存在？：&quot;</span>,os.path.exists(<span class="hljs-string">r&quot;d:\OS模块&quot;</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;文件存在？&quot;</span>,os.path.isfile(<span class="hljs-string">r&quot;d:\OS模块\1.py&quot;</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;文件大小：&quot;</span>,os.path.getsize(<span class="hljs-string">r&quot;d:\OS模块\1.py&quot;</span>))<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/12.jpg"></p>
</li>
<li><p>调用系统命令：</p>
<p>os模块中用于调用系统命令的常用函数：</p>
<ul>
<li><p>os.popen(cmd[,mode[,bufsize]]):用于由一个命令打开一个管道。cmd为系统命令，mode为模式（r或w），bufsize为文件需要的缓冲大小</p>
</li>
<li><p>os.sysem(shell):运行shell命令</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br>os.system(<span class="hljs-string">&quot;rmdir d:\\python学习\\大四学习\\newDir&quot;</span>)<br>os.popen(<span class="hljs-string">r&quot;c:\windows\notepad.exe&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;程序执行成功&quot;</span>)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/13.jpg"></p>
</li>
</ul>
</li>
</ol>
<h2 id="Sys模块："><a href="#Sys模块：" class="headerlink" title="Sys模块："></a>Sys模块：</h2><p>sys模块提供对python解释器相关的操作</p>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/14.jpg"></p>
<h3 id="Timeit模块："><a href="#Timeit模块：" class="headerlink" title="Timeit模块："></a>Timeit模块：</h3><p>是一个计时功能的模块，用于测试一段代码运行时间 </p>
<p>timeit()函数返回执行代码所用的时间单位为秒：t=timeit(stmt=’code’,setup=’code’,timer=<defaulttimer>,number=n),stmt是要执行的代码，setup为执行代码的准备工作，timer一般为time.clock(),number为执行代码次数</defaulttimer></p>
<p>repeat()函数比timeit函数多了一个repeat参数控制执行多少遍格式：</p>
<p>t=repeat(stmt=’code’,setup=’code’,timer=<defaulttimer>,repeat=m,number=n)</defaulttimer></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> timeit<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">myfun</span>():</span><br>    <span class="hljs-built_in">sum</span>=<span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>):<br>            <span class="hljs-built_in">sum</span>=<span class="hljs-built_in">sum</span>+i+j<br><br>t1=timeit.timeit(stmt=myfun,number=<span class="hljs-number">1000</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;t1=&quot;</span>,t1)<br>t2=timeit.repeat(stmt=myfun,repeat=<span class="hljs-number">6</span>,number=<span class="hljs-number">1000</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;t2=&quot;</span>,t2)<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/15.jpg"></p>
<h3 id="Zlib模块："><a href="#Zlib模块：" class="headerlink" title="Zlib模块："></a>Zlib模块：</h3><p>用来进行数据打包解包常用函数如下：</p>
<ol>
<li><p>zlib.compress(string):对string进行压缩</p>
</li>
<li><p>zlib.decompress(string):对string进行解压</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用zlib模块对字符串进行压缩解压</span><br><span class="hljs-keyword">import</span> zlib<br><span class="hljs-built_in">str</span>=<span class="hljs-string">b&#x27;贾程林是个猪头，大猪头&#x27;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;压缩前：&#123;&#125;字符个数：&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-built_in">str</span>,<span class="hljs-built_in">len</span>(<span class="hljs-built_in">str</span>)))<br>str_com=zlib.compress(<span class="hljs-built_in">str</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;压缩后：&#123;&#125;字符个数：&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(str_com,<span class="hljs-built_in">len</span>(str_com)))<br>str_dec=zlib.decompress(str_com)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;解压后：&#123;&#125;字符个数：&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(str_dec,<span class="hljs-built_in">len</span>(str_dec)))<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/16.jpg"></p>
</li>
</ol>
<p>模块的使用简单总结就是将模块导入，知道模块中函数的功能与传递参数的含义熟练的使用就可以掌握。</p>
<h2 id="第三方库模块："><a href="#第三方库模块：" class="headerlink" title="第三方库模块："></a>第三方库模块：</h2><h3 id="Pyinstaller库"><a href="#Pyinstaller库" class="headerlink" title="Pyinstaller库:"></a>Pyinstaller库:</h3><p>可以用这个库来打包程python应用程序，打包时pyinstaller库会扫描python程序的所有文档，分析所有代码找出代码运行所需的模块，然后将所有这些模块和代码放在一个文件夹里或一个可执行文件里这样用户不需要下载各种软件运行环境就可以执行这个可执行程序</p>
<p>下载和安装：</p>
<p>pip install pyinstaller</p>
<p>打包应用程序：</p>
<ol>
<li>创建一个python源文件</li>
<li>打开命令行界面进入源文件所在路径</li>
<li>在命令行界面运行命令：”pyinstaller -F  源文件名“ 打包源文件，成功执行后生成可执行文件源文件名.exe在源文件所在路径的dist中就可以让别人使用</li>
</ol>
<p>第三方库模块还有Numpy库开源的数值计算库、Pandas库一种解决数据分析任务的工具库、SciPy库一款方便易于使用专为科学和工程设计的库、Matplotlib库一个基于python跨平台交互式2D绘图库Jieba库优秀的中文分词库这些库的需要参考使用文档学会调用其内部函数就可以了。</p>
<h1 id="包"><a href="#包" class="headerlink" title="包"></a>包</h1><p>为了对同一类型的模块进行有效的管理，引入了包（package）来组织模块，包是模块所在文件的目录，并且在该目录下必须有一个名为__init__.py的文件；否则python就将该目录视作为普通目录，而不是一个包。__init__.py可以是一个空文件，也可以包含python代码。</p>
<p>包的导入：</p>
<p>​    1.利用**<code>import</code><strong>直接导入包（</strong>仅仅导入__init__.py中的内容**）</p>
<ul>
<li><p>语法：import package_name</p>
</li>
<li><p>直接导入一个包，仅仅可以使用_<em>init</em>_.py中的全部内容</p>
</li>
<li><p>使用：package_name.func_name 或者 package_name.class</p>
<p>2.导入包中的某一个模块</p>
</li>
<li><p>语法：<code>import</code> package_name.module_name</p>
</li>
<li><p>使用：package_name.module_na112afme.func_name或<br>package_name.module_name.class_name</p>
</li>
</ul>
<h1 id="库"><a href="#库" class="headerlink" title="库"></a>库</h1><p>具有相关功能的包和模块集合则形成了库如：python标准库、numpy库等</p>
<p>按照库的来源可分为三种库：</p>
<ol>
<li><p>标准库（python自带）</p>
<p>常用标准库：</p>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/1.jpg"></p>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/2.jpg"></p>
</li>
<li><p>第三方库（由第三方机构发布具有特定功能）</p>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/3.jpg"></p>
<p>第三方库的使用和自带的库使用类似不过首先需要在terminal中用pip安装相关库然后导入库和模块按照模块使用方法使用即可</p>
</li>
<li><p>自定义库（用户创建）</p>
<p>用户自己可以编写具有特定功能的模块，保存到扩展名为.py的文件中。由用户自己编写的模块称为自定义模块。和标准库模块第三方库中的模块一样。如果要调用自定义模块中的类、函数、属性也必须用import语句导入后在使用</p>
<p>以一个项目名称为P1的例子介绍自定义模块创建和使用：</p>
<ul>
<li><p>场景1：</p>
<p>在源文件A11.py中调用包package1中的模块A12：</p>
<p>实现步骤：</p>
<ol>
<li>在package1下添加A11.py和模块A12中的程序代码</li>
<li>分别编写源文件A11.py和A2中的程序代码</li>
</ol>
<p>目录结构如下：</p>
<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/17.jpg"></p>
<p>方法一：源文件A11.py中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> A12<br><span class="hljs-built_in">print</span>(A12.func_A12()) <span class="hljs-comment">#使用A12中的函数func_A12()</span><br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/18.jpg" alt="结果" class="lazyload"></p>
<p>方法二：源文件A11中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#方法二</span><br><span class="hljs-keyword">from</span> A12 <span class="hljs-keyword">import</span> *<br><span class="hljs-built_in">print</span>(func_A12())<span class="hljs-comment">#使用A12中的函数func_A12()</span><br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/19.jpg"></p>
<p>方法三：源文件A11中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#方法三：</span><br><span class="hljs-keyword">from</span> A12 <span class="hljs-keyword">import</span> func_A12<br><span class="hljs-built_in">print</span>(func_A12())<span class="hljs-comment">#使用A12中的函数func_A12()</span><br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/20.jpg"></p>
<p>方法四：源文件A11中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#方法四</span><br><span class="hljs-keyword">import</span> A12 <span class="hljs-keyword">as</span> a<br><span class="hljs-built_in">print</span>(a.func_A12())<span class="hljs-comment">#使用A12中的函数func_A12()</span><br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/21.jpg"></p>
</li>
<li><p>场景二：在源文件main.py中调用包pack2中的模块A2</p>
<p>实现步骤：</p>
<ol>
<li>在pack2文件夹中创建__init__.py</li>
<li>分别编写模块A2和源文件main.py中的程序代码</li>
</ol>
<p>方法一：</p>
<p>源文件main.py中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#方法一：</span><br><span class="hljs-keyword">from</span> pack2.A2 <span class="hljs-keyword">import</span> *<span class="hljs-comment">#或者from pack2.A2 import func_A2()</span><br><span class="hljs-built_in">print</span>(func_A2())<span class="hljs-comment">#调用函数</span><br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/22.jpg"></p>
<p>方法二：</p>
<p>源文件main.py中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#方法2</span><br><span class="hljs-keyword">import</span> pack2.A2<br><span class="hljs-built_in">print</span>(pack2.A2.func_A2())<span class="hljs-comment">#调用函数</span><br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/23.jpg"></p>
</li>
<li><p>场景三：在源文件A11中调用模块A2</p>
<p>在本场景中源文件A11.py和模块A2分别在两个不同路径的包中实现步骤：</p>
<ol>
<li>在pack2中添加__init__.py</li>
<li>分别编写源文件A11和模块A2</li>
</ol>
</li>
</ul>
<p>方法一：</p>
<p>源文件A11中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#方法一：</span><br><span class="hljs-keyword">import</span> sys<br>sys.path.append(<span class="hljs-string">&#x27;d:\\python学习\\大四学习\\pack\\pack2&#x27;</span>)<span class="hljs-comment">#引入pack2所在路径</span><br><span class="hljs-keyword">import</span> A12  <span class="hljs-comment">#导入模块</span><br><span class="hljs-built_in">print</span>(A12.func_A12())   <span class="hljs-comment">#调用函数</span><br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/24.jpg"></p>
<p>方法二：</p>
<p>源文件A11中的程序代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 方法2：</span><br><span class="hljs-keyword">import</span> sys<br><br>sys.path.append(<span class="hljs-string">&#x27;d:\\python学习\\大四学习\\pack&#x27;</span>)  <span class="hljs-comment"># 引入pack所在路径</span><br><span class="hljs-keyword">import</span> pack2.A2<br><span class="hljs-built_in">print</span>(pack2.A2.func_A2())<br></code></pre></td></tr></table></figure>

<p><img src="/2021/10/17/python%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%A8%A1%E5%9D%97%E3%80%81%E5%8C%85%E3%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/25.jpg"></p>
</li>
</ol>

            
        </article>
    </div>
    
    <div class="nexmoe-post">
        <a href="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">
            
                <div class="nexmoe-post-cover mdui-ripple" style="padding-bottom: 66.66666666666666%;"> 
                    <img data-src="/assets/background.gif" data-sizes="auto" alt="python学习三面向对象的程序设计" class="lazyload">
                    <h1>python学习三面向对象的程序设计</h1>
                </div>
            
        </a>

        <div class="nexmoe-post-meta nexmoe-rainbow">
            <a><i class="nexmoefont icon-calendar-fill"></i>2021年10月08日</a>
            <a><i class="nexmoefont icon-areachart"></i>3.2k 字</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>大概 14 分钟</a>
        </div>

        <article>
            
                <h1 id="面向对象程序设计"><a href="#面向对象程序设计" class="headerlink" title="面向对象程序设计"></a>面向对象程序设计</h1><h2 id="两种程序设计方式："><a href="#两种程序设计方式：" class="headerlink" title="两种程序设计方式："></a>两种程序设计方式：</h2><ul>
<li>面向过程程序设计（POP）：把计算机程序视为一系列集合即一组函数按事先顺序执行，函数为基本单位。</li>
<li>面向对象程序设计（OOP）：把计算机程序视为一组对象的集合，每个对象可以接受其他对象发送的消息，程序的执行指的是消息在各个对象之间的传递，对象是基本单位。</li>
</ul>
<p>python支持POP、OOP。</p>
<p><strong>OOP：</strong>基本思想将数据以及对数据的操作封装在一起组成一个相互依存不可分割的整体，及对象。对相同，类型的对象进行分类、抽象后得出共同特征而形成类。基本概念包括对象、类、消息、<strong>封装、继承和多态</strong>。</p>
<p>对象是要研究的任何事物，类是一组具有相同特征和相同操作对象的定义，一个类所包含的数据和方法描述一组对象的共同特征和行为。不同类之间可以有继承关联依赖等关系。</p>
<p>消息：消息是一个对象要求另一个对象实施某项操作的请求。</p>
<h2 id="类的定义："><a href="#类的定义：" class="headerlink" title="类的定义："></a>类的定义：</h2><p>类是一种类型，对象是该类型的一个变量，类是抽象的，一般不占用内存空间，对象是具体的，创建对象时系统会为其分配相应的内存空间。</p>
<p>格式：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> 类名：</span><br><span class="hljs-class">	&quot;&quot;&quot;类说明&quot;&quot;&quot;</span><br><span class="hljs-class">    类体			包含数据成员（成员）成员方法（行为）</span><br></code></pre></td></tr></table></figure>

<h2 id="对象创建和使用"><a href="#对象创建和使用" class="headerlink" title="对象创建和使用"></a>对象创建和使用</h2><p>格式：</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><code class="hljs tex">对象名=类名([参数列表])<br></code></pre></td></tr></table></figure>

<p>使用：</p>
<p>对象.成员        对象.方法()  </p>
<h2 id="类的成员："><a href="#类的成员：" class="headerlink" title="类的成员："></a>类的成员：</h2><h3 id="成员类型："><a href="#成员类型：" class="headerlink" title="成员类型："></a>成员类型：</h3><h4 id="按照访问权限分类："><a href="#按照访问权限分类：" class="headerlink" title="按照访问权限分类："></a>按照访问权限分类：</h4><ol>
<li><p>公有成员：（类内外均可访问）</p>
<p>不以下划线开头</p>
</li>
<li><p>私有成员：</p>
<p>以单下划线或双下划线开头</p>
<ul>
<li>单下划线开头的私有成员：类和派生类可以访问这些成员，在类外不建议直接访问</li>
<li>双下划线开头的私有成员（但不能以两个或更多下划线结束）：只有类自己可以访问，派生类不能访问</li>
</ul>
</li>
</ol>
<h4 id="按照属于类还是属于对象分类："><a href="#按照属于类还是属于对象分类：" class="headerlink" title="按照属于类还是属于对象分类："></a>按照属于类还是属于对象分类：</h4><ol>
<li>类成员：定义在类体中且在所有方法外的成员为类成员，类成员属于类本身，一般通过类名调用，不建议使用对象名调用。</li>
<li>实例成员：在类的方法中定义的成员为实例成员。实例成员只能被对象调用，实例成员一般在构造方法”_<em>init_</em>()”中创建，或在其他方法中创建</li>
</ol>
<h4 id="对类成员访问："><a href="#对类成员访问：" class="headerlink" title="对类成员访问："></a>对类成员访问：</h4><ol>
<li><p>公有的类成员：在类的方法中通”类名.类成员”或”self.类成员”访问，在类外通过”类名.类成员”或“对象名.类成员”访问。</p>
</li>
<li><p>公有的实例成员：在类的方法中通过“self.实例成员”访问，在类外通过“对象名.实例成员”访问</p>
</li>
<li><p>私有的类成员：在类的方法中通过”类名.类成员“或”self.类成员”访问。在类外面不能直接访问</p>
</li>
<li><p>私有的实力成员：在类方法中通过“self.实力成员”访问，在类外不能直接访问。</p>
</li>
</ol>
<p><strong>注意：</strong></p>
<ol>
<li>当用对象名调用类成员时“对象名.类成员名”只是“类.类成员”的一份拷贝，修改“对象名.类成员名”不会修改“类.类成员”。</li>
<li>当类成员和实例成员名同名时，在类的方法中和外面，“类名.类成员”调用的是同名的类成员，“self.实例成员”（在类方法中）或“对象名.实例成员”（在类的外面）调用的是同名的实例成员。</li>
<li>定义在类的方法中，且不以self为前缀的变量是该方法的局部变量，不能在方法外使用。</li>
</ol>
<p><strong>例子：</strong>定义一个Women类</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Woman</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,name,sex,age</span>):</span><br>        self.name=name<br>        self._sex=sex<br>        self.__age=age<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getAge</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.__age<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    w=Woman(<span class="hljs-string">&quot;小贾&quot;</span>,<span class="hljs-string">&quot;Female&quot;</span>,<span class="hljs-number">18</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;姓名：%s,性别：%s,年龄：%d.&quot;</span>%(w.name,w._sex,w.getAge()))<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/1.jpg" alt="结果" class="lazyload"></p>
<p>例2：类成员和实例成员的创建和使用</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>:</span><br>    chinese=<span class="hljs-number">142</span>	<span class="hljs-comment">#类成员</span><br>    maths=<span class="hljs-number">1</span><br>    english=<span class="hljs-number">141</span><br>    <span class="hljs-comment">#定义构造方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,name</span>):</span> <br>        self.name=name	<span class="hljs-comment">#实例成员</span><br>        <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    s1=Student(<span class="hljs-string">&quot;加魔&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125;的语文成绩&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(s1.name,<span class="hljs-built_in">str</span>(Student.chinese)))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125;的数学成绩&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(s1.name, <span class="hljs-built_in">str</span>(Student.maths)))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125;的英语成绩&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(s1.name, <span class="hljs-built_in">str</span>(Student.english)))<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/2.jpg" alt="结果" class="lazyload"></p>
<p><strong>内置成员：</strong></p>
<p>所有的类（无论是系统内置的类还是自定义的类）都有一组特殊的成员，其前后各有两个下划线时类的内置成员：</p>
<ol>
<li>__name__:类的名字，用字符串表示</li>
<li>__doc__：类的文档字符串</li>
<li>__bases__:由所有父类组成的元组</li>
<li>__dict__:由类的成员组成的字典</li>
<li>__module__:类所属模块</li>
</ol>
<p>查看异常类Exception的内置成员：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;类的名字:&quot;</span>,Exception.__name__)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;类的父类:&quot;</span>,Exception.__bases__)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;类的文档:&quot;</span>,Exception.__doc__)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;类的成员:&quot;</span>,Exception.__dict__)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;类所属模块:&quot;</span>,Exception.__module__)<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/3.jpg" alt="结果" class="lazyload"></p>
<h2 id="类的方法："><a href="#类的方法：" class="headerlink" title="类的方法："></a>类的方法：</h2><ol>
<li><p>公有方法：公有方法的名字不以下划线开头，可以在类的外面通过类名或对象名调用</p>
</li>
<li><p>私有方法：私有方法以两个或更多下划线开头，可以在类的方法中通过self调用，不能在类的外面直接调用。</p>
</li>
<li><p>静态方法和类方法：</p>
<ul>
<li><p>静态方法和类方法成员可以通过类名和对象名调用，但不能直接访问属于对象的成员只能访问属于类的成员，不属于任何对象</p>
</li>
<li><p>静态方法使用装饰器@staticmethod声明，类方法使用装饰器@classmethod声明</p>
</li>
</ul>
</li>
<li><p>抽象方法：抽象方法一般定义在抽象类中并要求派生类对抽象方法进行实现</p>
</li>
</ol>
<p><strong>使用类方法：</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用类方法</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span>   <span class="hljs-comment">#派生自object类</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_p</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;在公有方法中调用：&quot;</span>,self.__function())   <span class="hljs-comment">#调用私有方法</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;公有方法 &#x27;function_p&#x27;&quot;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__function</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;私有方法 &#x27;__function&#x27;&quot;</span><br><span class="hljs-meta">    @classmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_c</span>(<span class="hljs-params">cls</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;类方法 &#x27;function_c&#x27;&quot;</span><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_s</span>():</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;静态方法 &#x27;function_s&#x27;&quot;</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    a1 = A()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;对象调用：&quot;</span> + a1.function_p())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;对象调用：&quot;</span> + a1.function_c())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;对象调用：&quot;</span> + a1.function_s())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;对象调用：&quot;</span> + A.function_p(a1))      <span class="hljs-comment">#传递对象a1作为参数</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;对象调用：&quot;</span> + A.function_c())<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;对象调用：&quot;</span> + A.function_s())<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/4.jpg" alt="结果" class="lazyload"></p>
<p><strong>属性：</strong></p>
<ul>
<li><p>一种特殊形式的方法，结合了成员和方法的各自优点，既可以通过属性访问类中的成员，也可以在访问前对用户为成员提供数据的合法性进行检测，还可以设置成员的访问机制</p>
</li>
<li><p>属性通常包括get()方法和se()方法。前者用于获取成员的值，后者用于设置成员的值</p>
</li>
<li><p>也可以包含其他方法如删除方法del()</p>
</li>
</ul>
<p>例：使用属性访问并检查私有成员值的合法性：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用属性访问并检查私有成员值的合法性：</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set</span>(<span class="hljs-params">self,radius</span>):</span><br>        <span class="hljs-keyword">if</span> radius&gt;=<span class="hljs-number">0</span>:<br>            self.__radius=radius<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;圆的面积为：&#123;0&#125;.&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-number">3.14</span>*self.__radius**<span class="hljs-number">2</span>))<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;半径 %f 不在规定范围内（&gt;=0）,请重新设置！&quot;</span>%radius)<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.__radius<br>        <br> <span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    c=Circle()<br>    c.<span class="hljs-built_in">set</span>(<span class="hljs-number">2.5</span>)<br>    c.<span class="hljs-built_in">set</span>(-<span class="hljs-number">2.5</span>)<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/5.jpg" alt="结果" class="lazyload"></p>
<p>使用装饰器@property设置类的属性访问方式</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用装饰器@property设置类的属性访问方式</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Woman</span>():</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,birth</span>):</span><br>        self.__birth=birth<br><span class="hljs-meta">    @property       </span><span class="hljs-comment">#设置属性可读</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">salary</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.__salary<br><span class="hljs-meta">    @salary.setter      </span><span class="hljs-comment">#设置属性为可写</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">salary</span>(<span class="hljs-params">self,salary</span>):</span><br>        self.__salary=salary<br><span class="hljs-meta">    @property           </span><span class="hljs-comment">#设置属性为只读8</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">birth</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.__birth<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br> 	w1=Woman(<span class="hljs-string">&quot;1992.06.06&quot;</span>)<br>    w1.salary=<span class="hljs-number">10800.00</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;您的出生日期%s，薪水：%.2f元&quot;</span>%(w1.birth,w1.salary))<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/6.jpg" alt="结果" class="lazyload"></p>
<p>使用属性访问私有成员：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#使用属性访问私有成员</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span>():</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__get</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.__value<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__set</span>(<span class="hljs-params">self,value</span>):</span><br>        self.__value=value<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__del</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">del</span> self.__value<br>    value=<span class="hljs-built_in">property</span>(__get,__<span class="hljs-built_in">set</span>,__<span class="hljs-keyword">del</span>)<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br> 	t=Test()<br>    t.value=<span class="hljs-number">100</span> <span class="hljs-comment">#写成员</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;value=%d.&quot;</span> %t.value) <span class="hljs-comment">#读成员</span><br>    <span class="hljs-keyword">del</span> t.value<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;value=%d.&quot;</span> %t.value)<br><br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/7.jpg" alt="结果" class="lazyload"></p>
<p>特殊方法：</p>
<ul>
<li><p>在python中，类有大量的特殊方法，其中比较常见的是构造方法__init__()和析构方法__del__()</p>
</li>
<li><p>构造方法__init__()用来为类中的成员设置初始值或进行必要的初始化工作，在类实例化时被自动调用和执行</p>
</li>
<li><p>析构方法：__del__()一般用来释放对象占用的资源，在删除对象和回收对象空间时被自动调用和执行</p>
</li>
</ul>
<p>构造方法和析构方法的使用：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rectangle</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,w,h</span>):</span><br>        self.w=w<br>        self.h=h<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;执行构造方法&#x27;</span>)<br>    <span class="hljs-comment">#定义求面积</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getArea</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.w*self.h<br>    <span class="hljs-comment">#定义析构方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__del__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;执行析构方法&#x27;</span>)<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br> 	rect =Rectangle(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)    <span class="hljs-comment">#创建对象，调用构造方法__init__()</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;面积为：&quot;</span>,rect.getArea())<br>    <span class="hljs-keyword">del</span> rect        <span class="hljs-comment">#删除对象，调用析构方法__del__()</span><br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/8.jpg" alt="结果" class="lazyload"></p>
<h2 id="类的继承："><a href="#类的继承：" class="headerlink" title="类的继承："></a>类的继承：</h2><ul>
<li><p>继承类称为派生类或子类，被继承类成为父类或基类</p>
</li>
<li><p>在python中，派生类可以继承一个父类（单继承）或多个父类（多继承）。</p>
</li>
<li><p>派生类可以继承父类的成员和方法，也可以定义自己的成员方法</p>
</li>
<li><p>如果父类方法不能满足要求，派生类也可以重写父类方法</p>
</li>
<li><p>当派生类继承多个父类时，多个父类之间用逗号隔开</p>
</li>
<li><p>创建派生类的一般格式为：</p>
<figure class="highlight tex"><table><tr><td class="code"><pre><code class="hljs tex">class 派生类（父类1，父类2，。。。）<br>	类体<br></code></pre></td></tr></table></figure></li>
</ul>
<p>类的继承</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#类的继承：</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,n,a</span>):</span><br>        self.name=n<br>        self.age=a<br><br>    <span class="hljs-comment">#定义公有方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">speak</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我是&#123;&#125;,今年&#123;&#125;岁&quot;</span>.<span class="hljs-built_in">format</span>(self.name,self.age))<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>(<span class="hljs-params">People</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,n,a,g</span>):</span><br>        People.__init__(self, n, a)<span class="hljs-comment">#调用父类构造方法</span><br>        self.grade=g<br>        <span class="hljs-comment">#重写父类方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">speak</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我是&#123;&#125;,今年&#123;&#125;岁,今年&#123;&#125;年级&quot;</span>.<span class="hljs-built_in">format</span>(self.name, self.age,self.grade))<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>	s=Student(<span class="hljs-string">&#x27;贾程林&#x27;</span>,<span class="hljs-number">40</span>,<span class="hljs-number">2</span>)<br>    s.speak();<span class="hljs-comment">#调用student类中的speak方法</span><br>    <span class="hljs-built_in">super</span>(Student,s).speak()<span class="hljs-comment">#调用父类people的speak方法</span><br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/9.jpg" alt="结果" class="lazyload"></p>
<p>类的多继承：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#类的继承：</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,n,a</span>):</span><br>        self.name=n<br>        self.age=a<br><br>    <span class="hljs-comment">#定义公有方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">speak</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我是&#123;&#125;,今年&#123;&#125;岁&quot;</span>.<span class="hljs-built_in">format</span>(self.name,self.age))<br><span class="hljs-comment">#类的多继承</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Speaker</span>():</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,n,t</span>):</span><br>        self.name=n<br>        self.topic=t<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">speak</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;我是&#123;&#125;,是一名科学家，今天我演讲的主题是&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(self.name, self.topic))<br><br><span class="hljs-comment">#定义科学家类继承于people和seapker</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Scientist</span>(<span class="hljs-params">Speaker,People</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self,n,a,t</span>):</span><br>        People.__init__(self,n,a)<br>        Speaker.__init__(self,n,t)<br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>        Hawkin=Scientist(<span class="hljs-string">&#x27;霍金&#x27;</span>,<span class="hljs-number">50</span>,<span class="hljs-string">&quot;时间简史&quot;</span>)<br>    	Hawkin.speak()<span class="hljs-comment">#调用继承时排在前面的Speaker类的speak（）方法</span><br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/10.jpg" alt="结果" class="lazyload"></p>
<p>类的多态：</p>
<ul>
<li><p>多态一般指的是父类的一个方法在不同的派生类对象中具有不同的表现和行为</p>
</li>
<li><p>派生类在继承了父类的行为和属性之后还可能增加某些特性的行为和属性，也可能会对继承父类的行为进行一定的改变，这些都是多态的表现</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#类的多态：</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span>():</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getInfo</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;I am an Animal&quot;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Lion</span>(<span class="hljs-params">Animal</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getInfo</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;I am a Lion&quot;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Tiger</span>(<span class="hljs-params">Animal</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getInfo</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;I am a Tiger&quot;</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Leopard</span>(<span class="hljs-params">Animal</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getInfo</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;I am a Leopard&quot;</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>  objectList=[item()<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> (Animal,Lion,Tiger,Leopard)]<br>    <span class="hljs-keyword">for</span> <span class="hljs-built_in">object</span> <span class="hljs-keyword">in</span> objectList:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-built_in">object</span>.getInfo())<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/11.jpg" alt="结果" class="lazyload"></p>
</li>
</ul>
<p>抽象类和抽象方法：</p>
<ul>
<li>抽象类往往用来表征对问题领域进行分析、设计中得出的抽象概念，是对一系列看上去不同但本质上相同的概念抽象</li>
<li>抽象类的特点：抽象类中通常包含抽象方法（没有实现功能），该类不能被实例化，只能被继承，且派生类必须实现抽象类中的抽象方法</li>
<li>Python中一般使用抽象基类（Abstract Base Class，ABC）来实现抽象类</li>
<li>ABC主要定义了基本类和最基本的抽象方法，可以派生类定义公有API，不需要具体实现，相当Java的接口或抽象类</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#定义抽象类:</span><br><span class="hljs-keyword">import</span> abc<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People1</span>(<span class="hljs-params">metaclass=abc.ABCMeta</span>):</span><br>    <span class="hljs-comment">#定义抽象方法</span><br><span class="hljs-meta">    @abc.abstractmethod</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">working</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">pass</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Chinese</span>(<span class="hljs-params">People1</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">working</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;中国人都在勤奋的工作&quot;</span>)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>  	c1=Chinese()<br>    c1.working()<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="/2021/10/08/python%E5%AD%A6%E4%B9%A0%E4%B8%89%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/12.jpg" alt="结果" class="lazyload"></p>
<h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1>
            
        </article>
    </div>
    
</section>

            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                        
                          
                          
                          
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

 

<script async src="/js/app.js?v=1678780098389"></script>

<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>


    





</body>

</html>
